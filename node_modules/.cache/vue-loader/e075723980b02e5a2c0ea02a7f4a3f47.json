{"remainingRequest":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/src/components/Profile/Collection/WatchCollection.vue?vue&type=style&index=0&id=3926db30&scoped=true&lang=css&","dependencies":[{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/src/components/Profile/Collection/WatchCollection.vue","mtime":1547005662124},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    .no-pointer {\n        pointer-events: none;\n    }\n\n    #watchName {\n        font-size: .80em;\n    }\n\n    #seeMore {\n        font-size: .70em;\n    }\n\n    #searchRef {\n        font-size: .60em;\n    }\n\n    .btn {\n        box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n    }\n\n    .right {\n        float: right;\n    }\n\n    .left {\n        float: left;\n    }\n\n        \n    .flag {\n        padding: .35em 0 !important;\n        font-size: .75em;\n    }\n\n    .p-half {\n        padding: .5rem;\n    }\n\n    .border-xl {\n        border: 1px solid lightgray;\n    }\n\n    .watchImgWrapper_Sm {\n        width: 100%;\n        height: 8rem;\n    }\n\n    .watchImgWrapper_Md {\n        width: 100%;\n        height:11.5rem;\n    }\n\n    .watchImgWrapper_Lg {\n        width: 100%;\n        height: 17.5rem;\n    }\n\n    @media(max-width: 850px) {\n        .watchImgWrapper_Sm {\n            width: 100%;\n            height: 3rem;\n        }\n\n        .watchImgWrapper_Md {\n            width: 100%;\n            height:4rem;\n        }\n\n        .watchImgWrapper_Lg {\n            width: 100%;\n            height: 6rem;\n        }\n    }\n\n    \n\n    .watchImg {\n        width: auto;\n        max-width: 100%;\n        min-height: 75%;\n        height: auto;\n        margin:auto;    \n        max-height: 100%;\n    }\n\n    .tallWatchImg {\n        width: auto;\n        /* max-height: 25rem; */\n    }\n\n    .smallHeartIcon {\n        width: 25px;\n        z-index: 999;\n    }\n\n    .heartIcon {\n        width: 42.5px;\n        z-index: 999;\n    }\n\n    .swap-list-move {\n        transition: transform .75s;\n    }\n\n\n    @media(max-width: 1000px) {\n        .border-xl{\n            border: none;\n        }\n\n        /* .watchImg {\n            width: 100%;\n            min-height: 6rem;\n            object-fit: cover;\n\n        } */\n    }\n\n    @media(min-width: 768px) and (max-width: 1000px) {\n        #searchRef, #seeMore {\n            font-size: .6em;\n        }\n\n        #watchName {\n            font-size: .65em;\n        } \n\n        .heartIcon {\n            width: 20px;\n        }\n    }\n\n    @media(max-width: 600px) {\n        #editIcon {\n        background-size: 1.25em;              \n        }\n\n        .flag {\n            font-size: .85rem;\n            padding: .1em !important;\n            \n        }\n\n        .heartIcon {\n            width: 28px;\n        }\n\n        .smallHeartIcon {\n        width: 15px;\n        z-index: 999;\n    }\n    }\n\n    @media(max-width: 415px) {\n        #searchRef, #seeMore {\n            font-size: .65rem;\n        }\n\n        .flag {\n            font-size: 10.5px;\n            padding: .2em !important;\n        }\n\n        .heartIcon {\n            width: 22.5px;\n        }\n    }\n\n\n\n/* ANIMATIONS */\n\n/* .bounce {\n  animation: pulse .5s;\n}\n\n@keyframes pulse {\n  100% {\n    transform: scale(1.2);\n  }\n} */\n\n\n\n    .dropZone[aria-dropeffect=\"move\"]  {\n        border-color:#68b;\n        background-color: red;\n    }\n      .dropZone[aria-dropeffect=\"move\"] .watch-wrapper {\n        background-color: #C0D8E0;\n    }\n     .dropZone[aria-dropeffect=\"move\"]:focus,\n    .dropZone[aria-dropeffect=\"move\"].dragover\n    {\n    outline:none;\n    box-shadow:0 0 0 1px #fff, 0 0 0 3px #68b;\n    }\n     .watch[aria-grabbed=\"true\"] .watch-wrapper\n    {\n    background:lightgreen;\n    color:#fff;\n    }\n\n\n",{"version":3,"sources":["WatchCollection.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgSA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"WatchCollection.vue","sourceRoot":"src/components/Profile/Collection","sourcesContent":["<template>\n    <b-container fluid>\n        <draggable  v-model=\"Collection\" @start=\"startDrag\" @end=\"endDrag\" class=\"py-2\" :options=\"addWatchDragOptions\">\n            <transition-group name=\"swap-list\">\n                <b-col :cols=\"smSizeCard\" :md=\"mdSizeCard\" class=\"dropdzone left p-half\" v-for=\"watch in Collection\" :key=\"watch.id\" :id=\"watch.id\">\n                    <b-row align-v=\"start\" align-h=\"around\" class=\"watch mb-1\" :class=\"drag && (draggingId  != watch.id) ? 'bg-light-green' : ''\" no-gutters>\n                        <watch-flags \n                            :watch=\"watch\" \n                            :isShowFlags=\"isShowFlags\" \n                            :isShowEditFlags=\"isShowEditFlags\" \n                            :isManagingCollection=\"isManagingCollection\"\n                            v-on:editWatch=\"editWatch\"\n                            v-on:removeWatchModal=\"removeWatchModal\"\n                            v-on:removedWatchModal=\"removedWatchModal\">\n                        </watch-flags>\n\n                        <!-- // WATCH // -->\n                        <b-col cols=\"12\" class=\"watch-wrapper order-1 box-shadow p-0\"> \n                            <b-row class=\"center\" align-v=\"center\" align-h=\"center\" no-gutters>\n                                <b-col cols=\"12\" class=\"center\" :class=\"(currentCardSize == 'sm') ? 'watchImgWrapper_Sm' : (currentCardSize == 'md') ? 'watchImgWrapper_Md' : (currentCardSize == 'lg') ? 'watchImgWrapper_Lg' : 'watchImgWrapper_Sm'\">\n                                    <b-img v-if=\"!isViewingPreviousWatches\" :src=\"isFavoriteWatch(watch.id) ? fullHeart : emptyHeart\" \n                                        class=\"pointer right absolute t-0 r0 right-align r-0 m-0\" :class=\"currentCardSize == 'sm' ? 'smallHeartIcon' : 'heartIcon'\"\n                                        @click=\"favoriteToggle(watch.id)\">\n                                    </b-img>\n                                    <b-img  \n                                        v-if=\"watch.src.images[0]\"\n                                        @click=\"isViewingPreviousWatches ?  removedWatchModal(watch) : selectWatch(watch)\"\n                                        :src=\"watch.src.images[0].src\"\n                                        class=\"watchImg pointer mx-auto center\">\n                                    </b-img>\n                                </b-col>\n                            </b-row>\n                        </b-col>\n                    </b-row>\n                </b-col>\n            </transition-group>                \n        </draggable>  \n\n        <b-modal \n            id=\"remove-watch-modal\"\n            ref=\"removeWatchModal\"\n            size=\"lg\">\n            <b-row slot=\"modal-title\" no-gutters v-if=\"watchToRemove\">Removing &nbsp; <strong>{{ titleCase(watchToRemove.name)}}</strong></b-row>\n            <div slot=\"modal-header-close\" class=\"w-100 m-h2 mt-2 mt-md-1\" @click=\"resetReasonsWatchMoved\">X</div>\n            <remove-watch-modal :watchToRemove=\"watchToRemove\" :reasonsWatchMoved=\"reasonsWatchMoved\"></remove-watch-modal>\n            <b-row slot=\"modal-footer\" class=\"p-2\" no-gutters>\n                <button class=\"btn btn-warning white mx-2\" variant=\"warning\" :disabled=\"reasonsWatchMoved.typeMoved == null\" @click=\"submitRemoveWatchForm\">Remove Watch from Collection</button>\n            </b-row>\n        </b-modal>\n\n        <b-modal \n            id=\"removed-watch-modal\"\n            ref=\"removedWatchModal\"\n            size=\"lg\" lazy>\n            <b-row slot=\"modal-title\" no-gutters v-if=\"removedWatchToSee\"><span class=\"gray\">Removed</span>   <strong> &nbsp;{{ titleCase(removedWatchToSee.name)}}</strong></b-row>\n            <div slot=\"modal-header-close\" class=\"w-100 m-h2 mt-2 mt-md-1\">X</div>\n             <removed-watch-modal :removedWatchToSee=\"removedWatchToSee\"></removed-watch-modal>\n        </b-modal>\n    </b-container>\n</template>\n\n<script>\nimport axios from 'axios';\nimport draggable from 'vuedraggable';\nimport RemoveWatchModal from './Modals/RemoveWatchModal.vue';\nimport SeeRemovedWatchModal from './Modals/SeeRemovedWatchModal.vue';\nimport WatchFlags from './WatchFlags.vue';\n\nexport default {\n    name: 'watchCollection',\n    components: {\n        draggable,\n        removedWatchModal: SeeRemovedWatchModal,\n        removeWatchModal: RemoveWatchModal,\n        watchFlags: WatchFlags\n    },\n\n    data () {\n        return {\n            addWatchDragOptions: {\n                dropzoneSelector: '.dropzone',\n                draggableSelector: '.watch',\n                showDropzoneAreas: true,\n            },\n            ROOT_API: process.env.VUE_APP_ROOT_API,\n            drag: false,\n            emptyHeart: process.env.VUE_APP_ROOT_API + \"/api/static-assets/empty-heart.png\",\n            fullHeart: process.env.VUE_APP_ROOT_API + \"/api/static-assets/full-heart.png\",\n            showFlags: true,\n            removedWatchToSeeReasons: null,\n            removedWatchToSee: null,\n            // DRAGABLE PROPERTIES\n\n            watchToRemove: null,\n            reasonsWatchMoved: {\n                receivedBy: null,\n                typeMoved: null,\n                value: null,\n                trades: []\n            },\n\n            draggingId: '',\n            isAnimate: true,\n            TestArray: [\n                'option1',\n                'option2',\n                'option3',\n                'option4',\n            ]\n        }\n    },\n    methods: {\n        smSizeCardUse() {\n            this.smSizeCard = 2\n            this.mdSizeCard = 3\n        },\n\n        mdSizeCardUse() {\n            this.smSizeCard = 6\n            this.mdSizeCard = 6\n        },\n\n        lgSizeCardUse() {\n            this.smSizeCard = 12\n            this.mdSizeCard = 12\n        },\n\n        startDrag(e) {\n            this.drag = true;\n            console.log(e.item.id, 'okayy', e.item)\n            this.draggingId = e.item.id;\n            console.log(this.draggingId, 'its done')\n        },\n\n        endDrag(e) {\n            this.drag = false;\n            this.isAnimate = false;\n            setTimeout(() => {\n                this.isAnimate = true;\n            }, 400)\n        },\n\n        orderChanged() {\n            this.$emit('orderChanged')\n        },\n\n        resetReasonsWatchMoved() {\n            this.reasonsWatchMoved = {\n                receivedBy: null,\n                typeMoved: null,\n                value: null,\n                trades: [] \n            }\n        },\n\n        selectWatch(watch) {\n            this.$emit('selectWatch', watch)\n        },\n\n        editWatch(watch) {\n            console.log('fuc')\n            this.$emit('editWatchModal', watch);\n        },\n\n        // Remove a watch From Collection\n        removeWatchModal(watch) {\n            this.watchToRemove = watch;\n            this.$refs.removeWatchModal.show();\n        },\n\n        openModal(){\n            this.$refs.removedWatchModal.show();\n        },\n\n        // View a watch that has been removed from collection\n        removedWatchModal(watch){\n            this.removedWatchToSee = watch;\n            this.$refs.removedWatchModal.show();\n        },\n\n        submitRemoveWatchForm() {\n            let watchDetails = { watchToRemove: this.watchToRemove, reasonsWatchMoved: this.reasonsWatchMoved }\n            this.$store.dispatch('createRemoveWatch', watchDetails);\n            this.$store.dispatch('removeExistingWatch', this.watchToRemove.id).then(() => {\n                // TODO: NOT THIS\n                setTimeout(() => {\n                    this.$store.dispatch('getNumberFSOT');\n                    this.$store.dispatch('loadUserCollection');\n                    this.resetReasonsWatchMoved();\n                    this.$refs.removeWatchModal.hide();\n                }, 1)       \n            })   \n        },\n\n        favoriteToggle(watchId) {\n            this.$store.dispatch('toggleWatchFavorite', watchId);\n        },\n\n        isFavoriteWatch(watchId) {\n            if(this.Favorites) {\n             let found = this.Favorites.find((w) => {\n                    return w.watch_id == watchId\n                })\n                if(found) return true\n                else return false\n            }\n        },   \n\n        // truncatedWatchName(name, lengthToTruncate) {\n        //     if(name.length > lengthToTruncate) {\n        //         return name.substring(0, lengthToTruncate) + '...';\n        //     }\n        //     else \n        //         return name;\n        // },\n\n         titleCase(str) {\n            var splitStr = str.toLowerCase().split(' ');\n            for (var i = 0; i < splitStr.length; i++) {\n                splitStr[i] = splitStr[i].charAt(0).toUpperCase() + splitStr[i].substring(1);     \n            }\n            return splitStr.join(' '); \n        }\n    },\n\n    computed: {\n        Favorites() {\n            return this.$store.state.Favorites;\n        },\n\n        isFilteringCollection() {\n            return this.$store.state.isFilteringCollection;\n        },\n\n        Collection: {\n            set(newCollectionOrder) {\n                if (!this.isManagingCollection) {\n                    return this.$store.dispatch('updateCollectionOrder', newCollectionOrder)\n                }\n            },\n            get() {\n                let isMan = this.isManagingCollection;\n                console.log(this.isManagingCollection)\n                if(isMan) {\n                    return this.$store.state.FilteredCollection;\n                }\n                else return this.$store.state.Collection;\n                }\n        },\n\n        \n\n        isFilteringCollection() {\n            return this.$store.state.FilteredCollection;\n        },\n\n        isManagingCollection() {\n            return this.$store.state.isManagingCollection;\n        },\n\n        isViewingPreviousWatches() {\n            return this.$store.state.isViewingPreviousWatches\n        },\n\n        isShowFlags() {\n            return this.$store.state.isShowFlags;\n        },\n\n        isShowEditFlags() {\n            return this.$store.state.isShowEditFlags;\n        },\n\n        currentCardSize(){\n            return this.$store.state.CurrentCardSize;\n        },\n\n        smSizeCard() {\n            return this.$store.state.MobileCardSizeToUse;\n        },\n\n        mdSizeCard() {\n            return this.$store.state.DesktopCardSizeToUse;\n        }\n    }\n}\n</script>\n\n<style scoped>\n    .no-pointer {\n        pointer-events: none;\n    }\n\n    #watchName {\n        font-size: .80em;\n    }\n\n    #seeMore {\n        font-size: .70em;\n    }\n\n    #searchRef {\n        font-size: .60em;\n    }\n\n    .btn {\n        box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n    }\n\n    .right {\n        float: right;\n    }\n\n    .left {\n        float: left;\n    }\n\n        \n    .flag {\n        padding: .35em 0 !important;\n        font-size: .75em;\n    }\n\n    .p-half {\n        padding: .5rem;\n    }\n\n    .border-xl {\n        border: 1px solid lightgray;\n    }\n\n    .watchImgWrapper_Sm {\n        width: 100%;\n        height: 8rem;\n    }\n\n    .watchImgWrapper_Md {\n        width: 100%;\n        height:11.5rem;\n    }\n\n    .watchImgWrapper_Lg {\n        width: 100%;\n        height: 17.5rem;\n    }\n\n    @media(max-width: 850px) {\n        .watchImgWrapper_Sm {\n            width: 100%;\n            height: 3rem;\n        }\n\n        .watchImgWrapper_Md {\n            width: 100%;\n            height:4rem;\n        }\n\n        .watchImgWrapper_Lg {\n            width: 100%;\n            height: 6rem;\n        }\n    }\n\n    \n\n    .watchImg {\n        width: auto;\n        max-width: 100%;\n        min-height: 75%;\n        height: auto;\n        margin:auto;    \n        max-height: 100%;\n    }\n\n    .tallWatchImg {\n        width: auto;\n        /* max-height: 25rem; */\n    }\n\n    .smallHeartIcon {\n        width: 25px;\n        z-index: 999;\n    }\n\n    .heartIcon {\n        width: 42.5px;\n        z-index: 999;\n    }\n\n    .swap-list-move {\n        transition: transform .75s;\n    }\n\n\n    @media(max-width: 1000px) {\n        .border-xl{\n            border: none;\n        }\n\n        /* .watchImg {\n            width: 100%;\n            min-height: 6rem;\n            object-fit: cover;\n\n        } */\n    }\n\n    @media(min-width: 768px) and (max-width: 1000px) {\n        #searchRef, #seeMore {\n            font-size: .6em;\n        }\n\n        #watchName {\n            font-size: .65em;\n        } \n\n        .heartIcon {\n            width: 20px;\n        }\n    }\n\n    @media(max-width: 600px) {\n        #editIcon {\n        background-size: 1.25em;              \n        }\n\n        .flag {\n            font-size: .85rem;\n            padding: .1em !important;\n            \n        }\n\n        .heartIcon {\n            width: 28px;\n        }\n\n        .smallHeartIcon {\n        width: 15px;\n        z-index: 999;\n    }\n    }\n\n    @media(max-width: 415px) {\n        #searchRef, #seeMore {\n            font-size: .65rem;\n        }\n\n        .flag {\n            font-size: 10.5px;\n            padding: .2em !important;\n        }\n\n        .heartIcon {\n            width: 22.5px;\n        }\n    }\n\n\n\n/* ANIMATIONS */\n\n/* .bounce {\n  animation: pulse .5s;\n}\n\n@keyframes pulse {\n  100% {\n    transform: scale(1.2);\n  }\n} */\n\n\n\n    .dropZone[aria-dropeffect=\"move\"]  {\n        border-color:#68b;\n        background-color: red;\n    }\n      .dropZone[aria-dropeffect=\"move\"] .watch-wrapper {\n        background-color: #C0D8E0;\n    }\n     .dropZone[aria-dropeffect=\"move\"]:focus,\n    .dropZone[aria-dropeffect=\"move\"].dragover\n    {\n    outline:none;\n    box-shadow:0 0 0 1px #fff, 0 0 0 3px #68b;\n    }\n     .watch[aria-grabbed=\"true\"] .watch-wrapper\n    {\n    background:lightgreen;\n    color:#fff;\n    }\n\n\n</style>\n\n"]}]}