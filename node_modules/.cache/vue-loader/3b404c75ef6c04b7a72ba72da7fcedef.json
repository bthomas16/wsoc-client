{"remainingRequest":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/src/components/Profile/Collection/Collection.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/src/components/Profile/Collection/Collection.vue","mtime":1548215996382},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios'\nimport SeeMoreModal from './Modals/SeeMoreModal.vue'\nimport AddWatchModal from './Modals/AddWatchModal.vue'\nimport WatchCollection from './WatchCollection.vue'\nimport ManageCollection from './ManageCollection.vue'\nimport { setTimeout } from 'timers'\n\nexport default {\n  components: {\n    seeMoreModal: SeeMoreModal,\n    addWatchModal: AddWatchModal,\n    watchCollection: WatchCollection,\n    manageCollection: ManageCollection\n  },\n  data () {\n    return {\n      isChangedOrder: false,\n      addWatchCount: 1,\n\n      showDismissibleAlert: false,\n      isAddingWatch: false,\n      isEditingExistingWatch: false,\n      selectedWatch: {},\n      isSeeMore: false,\n      addWatch: {\n        src: { images: [] }\n      },\n      addWatchImages: [],\n      isFeaturedWatch: false,\n      hasCollection: false,\n      searchTerms: [\n        'brand',\n        'name',\n        'model',\n        'ref'\n      ]\n    }\n  },\n\n  methods: {\n    selectWatch (watch) {\n      this.selectedWatch = watch\n      this.$refs.seeMoreModal.show()\n    },\n\n    editWatchModal (watch) {\n      this.addWatch = watch\n      this.isAddingWatch = false\n      this.isEditingExistingWatch = true\n      this.addWatch.name = this.titleCase(watch.name)\n      this.addWatch.brand = this.titleCase(watch.brand)\n      this.$refs.addWatchModal.show()\n    },\n\n    OpenWotdSeeMore (watchId) {\n      let watch = this.Collection.find(x => x.id === watchId)\n      this.selectWatch(watch)\n    },\n\n    SelectRandomWatch () {\n      let max = this.Collection.length\n      let min = 0\n      let index = Math.floor(Math.random() * (max - min) + min)\n      let randomWatch = this.Collection[index]\n      console.log('we out here', randomWatch)\n      this.selectWatch(randomWatch)\n    },\n\n    openWatchModal () {\n      this.$rers.addWatchModal.show()\n    },\n\n    addWatchModal () {\n      this.createAddWatch()\n      this.isAddingWatch = true\n      this.isEditingExistingWatch = false\n      this.$refs.addWatchModal.show()\n    },\n\n    resetWatchFormAndModals () {\n      this.isAddingWatch = false\n      this.isEditingExistingWatch = false\n      this.$refs.addWatchModal.hide()\n      this.$refs.seeMoreModal.hide()\n      this.addWatch = this.addWatch\n      this.addWatchCount = 1\n    },\n\n    previewWatch () {\n      if (this.addWatch.brand) { this.addWatch.brand = this.addWatch.brand.toLowerCase() }\n      this.addWatch.name = this.addWatch.name.toLowerCase()\n      console.log(this.addWatch)\n      this.selectedWatch = this.addWatch\n\n      this.$refs.addWatchModal.hide()\n      this.$refs.seeMoreModal.show()\n    },\n\n    submitWatch () {\n      this.isAddingWatch = false\n      this.isEditingExistingWatch = false\n      this.$refs.seeMoreModal.hide()\n      if (!this.addWatch.id) {\n        // watch doesnt exist yet, create new watch\n        this.$store.dispatch('submitNewWatch', this.addWatch)\n      } else {\n          // editing existing watch\n        this.$store.dispatch('submitEditWatch', this.addWatch)\n      }\n      this.createAddWatch() // reset add watch to defaults\n      this.addWatchCount = 1 // resets watch count\n\n      // TODO: NOT THIS\n    //   setTimeout(() => {\n    //     this.$store.dispatch('getNumberFSOT')\n    //     this.$store.dispatch('loadUserCollection')\n    //   }, 500)\n    },\n\n    backToEditStart () {\n      this.addWatchCount = 1\n      this.$refs.addWatchModal.show()\n      this.$refs.seeMoreModal.hide()\n    },\n\n    createAddWatch () {\n      this.addWatch = {\n        src: { images: [] },\n        brand: '',\n        name: '',\n        isForSale: false,\n        isForTrade: false,\n        isFullKit: false,\n        watchStyle: null,\n        watchStyle: null,\n        accuracy: null,\n        movement: null,\n        movementType: null,\n        sizeLugToLug: null,\n        sizeWidth: null,\n        sizeHeight: null,\n        crystal: null,\n        band: '',\n        model: '',\n        ref: '',\n        forSalePrice: null,\n        forTradeValue: null,\n        acquiredFor: null,\n        dateAcquired: ''\n      }\n    },\n\n    orderChanged () {\n      this.isChangedOrder = true\n    },\n\n    titleCase (str) {\n      var splitStr = str.toLowerCase().split(' ')\n      for (var i = 0; i < splitStr.length; i++) {\n        splitStr[i] = splitStr[i].charAt(0).toUpperCase() + splitStr[i].substring(1)\n      }\n      return splitStr.join(' ')\n    },\n\n    titleCase (str) {\n      var splitStr = str.toLowerCase().split(' ')\n      for (var i = 0; i < splitStr.length; i++) {\n        splitStr[i] = splitStr[i].charAt(0).toUpperCase() + splitStr[i].substring(1)\n      }\n      return splitStr.join(' ')\n    }\n  },\n\n  computed:\n    {\n      isLoading () {\n        return this.$store.state.isLoading\n      },\n\n      getCollectionTotalValue () {\n        let val = 0\n        this.Collection.forEach(x => {\n          if (x.forSalePrice) {\n            val += x.forSalePrice\n          } else if (x.marketValue) {\n            val += x.marketValue\n          } else if (x.marketValue) {\n            val += x.forTradeValue\n          }\n        })\n        if (val > 0) {\n          return val\n        } else {\n          return 'N/A'\n        }\n      },\n\n      User () {\n        return this.$store.state.User\n      },\n\n      // getWatchOfTheDay() {\n      //     let watchCollection = this.$store.getters.getCollection;\n      //     let randomId = Math.floor(Math.random() * Math.floor(watchCollection.length))\n      //     return watchCollection[randomId].name;\n      // },\n\n      Collection () {\n        if (this.isManagingCollection) {\n          return this.$store.state.FilteredCollection\n        } else return this.$store.state.Collection\n      },\n\n      isManagingCollection () {\n        return this.$store.state.isManagingCollection\n      },\n\n      isUserLoaded () {\n        return this.$store.state.isUserLoaded\n      },\n\n      isCollectionLoaded () {\n        return this.$store.state.isCollectionLoaded\n      },\n\n      isFilteringCollection () {\n        return this.$store.state.isFilteringCollection\n      },\n\n      WOTD () {\n          let Collection = this.$store.state.Collection;\n          if (Collection) {\n            let i = this.$store.state.cookieValueWOTD\n            let c = this.$store.state.Collection[i];\n            return { name: c.name, id: c.id }\n          } else {\n              return 'Add a Watch to your Collection!'\n          }\n      }\n    },\n\n  created: function () {\n    this.$store.dispatch('loadUserCollection')\n    this.$store.dispatch('getFavorites')\n  }\n}\n",null]}