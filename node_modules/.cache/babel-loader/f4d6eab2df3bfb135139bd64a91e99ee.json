{"remainingRequest":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/node_modules/babel-loader/lib/index.js!/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/node_modules/eslint-loader/index.js??ref--13-0!/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/src/routes.js","dependencies":[{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/src/routes.js","mtime":1545354295582},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Home from './components/Auth/Home.vue';\nimport Profile from './components/Profile/Profile.vue';\nimport store from './State/store.js';\nexport var routes = [{\n  path: '',\n  name: 'home',\n  component: Home,\n  beforeEnter: disallowAuth\n}, {\n  path: '/profile',\n  name: 'profile',\n  component: Profile,\n  beforeEnter: requireAuth\n}, {\n  path: '/discover',\n  name: 'discover',\n  component: function component() {\n    return import(\n    /* webpackChunkName: \"DiscoverWatches\" */\n    './components/DiscoverWatches.vue');\n  }\n}, // { \n//     path: '/watch-news',\n//     name: 'watchNews',\n//     component: () => import(/* webpackChunkName: \"DiscoverWatches\" */ './components/WatchNews.vue')\n// },\n// {\n//     path: '/watch-news/:id',\n//     name: 'watchNewsArticle',\n//     component: () => import(/* webpackChunkName: \"DiscoverWatches\" */ './components/WatchNewsArticle.vue')\n// },  \n{\n  path: '/contact',\n  name: 'contact',\n  component: function component() {\n    return import(\n    /* webpackChunkName: \"DiscoverWatches\" */\n    './components/ContactPage.vue');\n  }\n}, {\n  path: '/*',\n  name: 'wildcard',\n  component: Home,\n  beforeEnter: returnHome\n}];\n\nfunction returnHome(to, from, next) {\n  next('/');\n}\n\nfunction getJwt() {\n  return localStorage.getItem('watchJwt');\n}\n\nfunction requireAuth(to, from, next) {\n  if (!getJwt()) {\n    next('/');\n    return;\n  }\n\n  store.dispatch('validateJwt').then(function (res) {\n    console.log('fis');\n    console.log('data required', res.data);\n\n    if (res.data.isSuccess) {\n      next();\n      return;\n    }\n\n    next('/');\n    return;\n  });\n}\n\nfunction disallowAuth(to, from, next) {\n  if (!getJwt()) {\n    next();\n    return;\n  }\n\n  store.dispatch('validateJwt').then(function (res) {\n    console.log('data disallow', res.data);\n\n    if (res.data.isSuccess) {\n      next('/profile');\n      return;\n    }\n\n    console.log('fic');\n    next();\n    return;\n  });\n}",{"version":3,"sources":["/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/src/routes.js"],"names":["Home","Profile","store","routes","path","name","component","beforeEnter","disallowAuth","requireAuth","returnHome","to","from","next","getJwt","localStorage","getItem","dispatch","then","res","console","log","data","isSuccess"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,4BAAjB;AACA,OAAOC,OAAP,MAAoB,kCAApB;AACA,OAAOC,KAAP,MAAkB,kBAAlB;AAEA,OAAO,IAAMC,MAAM,GAAG,CAClB;AACIC,EAAAA,IAAI,EAAE,EADV;AAEIC,EAAAA,IAAI,EAAE,MAFV;AAGIC,EAAAA,SAAS,EAAEN,IAHf;AAIIO,EAAAA,WAAW,EAAEC;AAJjB,CADkB,EAOlB;AACIJ,EAAAA,IAAI,EAAE,UADV;AAEIC,EAAAA,IAAI,EAAE,SAFV;AAGIC,EAAAA,SAAS,EAAEL,OAHf;AAIIM,EAAAA,WAAW,EAAEE;AAJjB,CAPkB,EAalB;AACIL,EAAAA,IAAI,EAAE,WADV;AAEIC,EAAAA,IAAI,EAAE,UAFV;AAGIC,EAAAA,SAAS,EAAE;AAAA,WAAM;AAAO;AAA0C,sCAAjD,CAAN;AAAA;AAHf,CAbkB,EAkBlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIF,EAAAA,IAAI,EAAE,UADV;AAEIC,EAAAA,IAAI,EAAE,SAFV;AAGIC,EAAAA,SAAS,EAAE;AAAA,WAAM;AAAO;AAA0C,kCAAjD,CAAN;AAAA;AAHf,CA5BkB,EAiClB;AACIF,EAAAA,IAAI,EAAE,IADV;AAEIC,EAAAA,IAAI,EAAE,UAFV;AAGIC,EAAAA,SAAS,EAAEN,IAHf;AAIIO,EAAAA,WAAW,EAAEG;AAJjB,CAjCkB,CAAf;;AAyCH,SAASA,UAAT,CAAoBC,EAApB,EAAwBC,IAAxB,EAA8BC,IAA9B,EAAoC;AAChCA,EAAAA,IAAI,CAAC,GAAD,CAAJ;AACH;;AAED,SAASC,MAAT,GAAkB;AACd,SAAOC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAP;AACH;;AAED,SAASP,WAAT,CAAqBE,EAArB,EAAyBC,IAAzB,EAA+BC,IAA/B,EAAqC;AACjC,MAAI,CAACC,MAAM,EAAX,EAAe;AACXD,IAAAA,IAAI,CAAC,GAAD,CAAJ;AACA;AACH;;AACDX,EAAAA,KAAK,CAACe,QAAN,CAAe,aAAf,EAA8BC,IAA9B,CAAmC,UAAAC,GAAG,EAAI;AAC1CC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACID,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BF,GAAG,CAACG,IAAjC;;AACA,QAAIH,GAAG,CAACG,IAAJ,CAASC,SAAb,EAAwB;AACpBV,MAAAA,IAAI;AACJ;AACH;;AACGA,IAAAA,IAAI,CAAC,GAAD,CAAJ;AACA;AACP,GATD;AAUH;;AAED,SAASL,YAAT,CAAsBG,EAAtB,EAA0BC,IAA1B,EAAgCC,IAAhC,EAAsC;AAClC,MAAI,CAACC,MAAM,EAAX,EAAe;AACXD,IAAAA,IAAI;AACJ;AACH;;AACDX,EAAAA,KAAK,CAACe,QAAN,CAAe,aAAf,EAA8BC,IAA9B,CAAmC,UAAAC,GAAG,EAAI;AACtCC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BF,GAAG,CAACG,IAAjC;;AACA,QAAIH,GAAG,CAACG,IAAJ,CAASC,SAAb,EAAwB;AACpBV,MAAAA,IAAI,CAAC,UAAD,CAAJ;AACA;AACH;;AACLO,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACQR,IAAAA,IAAI;AACJ;AACP,GATD;AAUP","sourcesContent":["import Home from './components/Auth/Home.vue';\nimport Profile from './components/Profile/Profile.vue';\nimport store from './State/store.js';\n\nexport const routes = [\n    { \n        path: '', \n        name: 'home',\n        component: Home,\n        beforeEnter: disallowAuth    \n    },\n    { \n        path: '/profile',\n        name: 'profile',\n        component: Profile,\n        beforeEnter: requireAuth    \n    },\n    { \n        path: '/discover',\n        name: 'discover',\n        component: () => import(/* webpackChunkName: \"DiscoverWatches\" */ './components/DiscoverWatches.vue') \n    },\n    // { \n    //     path: '/watch-news',\n    //     name: 'watchNews',\n    //     component: () => import(/* webpackChunkName: \"DiscoverWatches\" */ './components/WatchNews.vue')\n    // },\n    // {\n    //     path: '/watch-news/:id',\n    //     name: 'watchNewsArticle',\n    //     component: () => import(/* webpackChunkName: \"DiscoverWatches\" */ './components/WatchNewsArticle.vue')\n    // },  \n    { \n        path: '/contact',\n        name: 'contact',\n        component: () => import(/* webpackChunkName: \"DiscoverWatches\" */ './components/ContactPage.vue') \n    },\n    { \n        path: '/*',\n        name: 'wildcard',\n        component: Home,\n        beforeEnter: returnHome    \n}\n];\n\n    function returnHome(to, from, next) {\n        next('/')\n    }\n\n    function getJwt() {\n        return localStorage.getItem('watchJwt');\n    }\n\n    function requireAuth(to, from, next) {\n        if (!getJwt()) {\n            next('/')\n            return;\n        }\n        store.dispatch('validateJwt').then(res => {\n        console.log('fis')\n            console.log('data required', res.data)\n            if (res.data.isSuccess) {\n                next()\n                return\n            }\n                next('/');\n                return\n        });\n    }\n\n    function disallowAuth(to, from, next) {\n        if (!getJwt()) {\n            next()\n            return;\n        } \n        store.dispatch('validateJwt').then(res => {\n            console.log('data disallow', res.data)\n            if (res.data.isSuccess) {\n                next('/profile')\n                return\n            }\n        console.log('fic')\n                next()\n                return\n        });\n}"]}]}