{"remainingRequest":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/client/node_modules/babel-loader/lib/index.js!/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/client/src/components/Profile/Collection/Collection.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/client/src/components/Profile/Collection/Collection.vue","mtime":1550533090465},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/client/node_modules/cache-loader/dist/cjs.js","mtime":1548990847448},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/client/node_modules/babel-loader/lib/index.js","mtime":1548990846981},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/client/node_modules/cache-loader/dist/cjs.js","mtime":1548990847448},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/client/node_modules/vue-loader/lib/index.js","mtime":1548990850526}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport _defineProperty from \"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport SeeMoreModal from './Modals/SeeMoreModal.vue';\nimport AddWatchModal from './Modals/AddWatchModal.vue';\nimport DraggableWatchCollection from './DraggableWatchCollection.vue';\nimport NonDraggableWatchCollection from './NonDraggableWatchCollection.vue';\nimport ManageCollection from './ManageCollection.vue';\nimport { setTimeout } from 'timers';\nimport loader from '../../Loader.vue';\nimport LoadImageUtility from '../../../Utilities/LoadImageUtility';\nimport ImgBase64 from 'base64-img';\nexport default {\n  components: {\n    seeMoreModal: SeeMoreModal,\n    addWatchModal: AddWatchModal,\n    draggableWatchCollection: DraggableWatchCollection,\n    nonDraggableWatchCollection: NonDraggableWatchCollection,\n    manageCollection: ManageCollection,\n    loader: loader\n  },\n  data: function data() {\n    return {\n      isS3UploadEvent: false,\n      isChangedOrder: false,\n      addWatchCount: 1,\n      showDismissibleAlert: false,\n      isAddingWatch: false,\n      isEditingExistingWatch: false,\n      selectedWatch: {},\n      isSeeMore: false,\n      addWatch: {\n        src: {\n          images: []\n        }\n      },\n      addWatchImages: [],\n      isFeaturedWatch: false,\n      hasCollection: false,\n      searchTerms: ['brand', 'name', 'model', 'ref']\n    };\n  },\n  methods: {\n    uploadImagesToAwsS3: function uploadImagesToAwsS3() {\n      var _this = this;\n\n      var files = this.addWatch.src.images;\n      this.addWatchCount++;\n      this.S3UploadEventListener(true);\n      var fileArr = [];\n      files.forEach(function (file) {\n        if (!LoadImageUtility.ContainsS3Information(file.src.substring(0, 30))) {\n          console.log('new image, so going to save base 64 to s3', file);\n          fileArr.push({\n            src: file.src // fileName: file.fileName\n\n          });\n        }\n      });\n\n      if (fileArr[0]) {\n        console.log('There are new images to upload, so I will upload this array of base 64 images to s3', fileArr, this.addWatch.src.images.length);\n        this.$store.dispatch('uploadImagesToAwsS3', fileArr).then(function (images) {\n          var tempArr = _this.addWatch.src.images.concat(images);\n\n          var imagesCount = 0;\n\n          for (var i = 0; i < tempArr.length; i++) {\n            if (!LoadImageUtility.ContainsS3Information(tempArr[i].src.substring(0, 30))) {\n              // if the src property on the index of the current array does not contaain S3 information\n              tempArr[i].src = images[imagesCount].src; // tempArr[i].order = i\n\n              imagesCount++;\n            }\n          }\n\n          imagesCount = 0; // this.addWatch.src.images = tempArr\n\n          _this.S3UploadEventListener(false);\n\n          fileArr = []; // console.log('got this back', images)\n          //     let currentArr = this.addWatch.src.images\n          //     // images.forEach(s3Img => { // for each new s3 image check the current images for the next non s3 image str, map it\n          //     for (let j = 0; j < images.length; j++) {\n          //         for (let i = 0; i < currentArr.length; i++) {\n          //             if (!LoadImageUtility.ContainsS3Information(currentArr[i].src.substring(0, 30))) { // if the current img is not a S3 bucket string, let's make it one\n          //                     console.log('its new!!',currentArr[i].src, 'to become',  images[j].Location)\n          //                     currentArr[i].src = images[j].Location\n          //                     currentArr[i].order = i\n          //                     currentArr[i].fileName = images[j].fileName\n          //                     break\n          //                 }\n          //             }\n          //         }\n          // this.addWatch.src.images = currentArr\n        }).catch(function (err) {\n          console.log(err);\n\n          _this.S3UploadEventListener(false);\n        });\n      } else {\n        this.S3UploadEventListener(false);\n      }\n    },\n    S3UploadEventListener: function S3UploadEventListener(value) {\n      this.isS3UploadEvent = value;\n    },\n    selectWatch: function selectWatch(watch) {\n      this.selectedWatch = watch;\n      this.$refs.seeMoreModal.show(); // Analytics\n\n      this.$ga.event({\n        eventCategory: 'Watch_Collection',\n        eventAction: 'See_More_Modal_Click',\n        eventLabel: 'Open See More Watch Modal'\n      });\n    },\n    editWatchModal: function editWatchModal(watch) {\n      this.addWatch = watch;\n      this.isAddingWatch = false;\n      this.isEditingExistingWatch = true;\n      this.addWatch.name = this.titleCase(watch.name);\n      this.addWatch.brand = this.titleCase(watch.brand);\n      this.$refs.addWatchModal.show(); // Analytics\n\n      this.$ga.event({\n        eventCategory: 'Manage_Collection',\n        eventAction: 'Edit_Watch_Modal_Click',\n        eventLabel: 'Begin Editing Watch'\n      });\n    },\n    OpenWotdSeeMore: function OpenWotdSeeMore(watchId) {\n      var watch = this.Collection.find(function (x) {\n        return x.id === watchId;\n      });\n      this.selectWatch(watch);\n      this.$ga.event({\n        eventCategory: 'Watch_Collection',\n        eventAction: 'WOTD_Btn_Click',\n        eventLabel: 'WOTD + See More Watch Modal'\n      });\n    },\n    SelectRandomWatch: function SelectRandomWatch() {\n      var max = this.Collection.length;\n      var min = 0;\n      var index = Math.floor(Math.random() * (max - min) + min);\n      var randomWatch = this.Collection[index];\n      this.selectWatch(randomWatch); // Analytics\n\n      this.$ga.event({\n        eventCategory: 'Manage_Collection',\n        eventAction: 'Random_Watch_Btn_Click',\n        eventLabel: 'Random Watch + See More Watch Modal'\n      });\n    },\n    addWatchModal: function addWatchModal() {\n      this.createAddWatch();\n      this.isAddingWatch = true;\n      this.isEditingExistingWatch = false;\n      this.$refs.addWatchModal.show(); // Analytics\n\n      this.$ga.event({\n        eventCategory: 'Manage_Collection',\n        eventAction: 'Add_Watch_Btn_Click',\n        eventLabel: 'Begin Adding Watch'\n      });\n    },\n    resetWatchFormAndModals: function resetWatchFormAndModals() {\n      this.isAddingWatch = false;\n      this.isEditingExistingWatch = false;\n      this.$refs.addWatchModal.hide();\n      this.$refs.seeMoreModal.hide();\n      this.addWatch = this.addWatch;\n      this.addWatchCount = 1;\n    },\n    previewWatch: function previewWatch() {\n      if (this.addWatch.brand) {\n        this.addWatch.brand = this.addWatch.brand.toLowerCase();\n      }\n\n      this.addWatch.name = this.addWatch.name.toLowerCase();\n      this.selectedWatch = this.addWatch;\n      this.$refs.seeMoreModal.show(); // Analytics\n\n      this.$ga.event({\n        eventCategory: 'Manage_Collection',\n        eventAction: 'Add_Watch_Modal_Click',\n        eventLabel: 'Preview Adding Watch'\n      });\n    },\n    submitWatch: function submitWatch() {\n      this.$refs.addWatchModal.hide();\n      this.isAddingWatch = false;\n      this.isEditingExistingWatch = false;\n      this.$refs.seeMoreModal.hide();\n\n      if (!this.addWatch.id) {\n        // watch doesnt exist yet, create new watch\n        this.$store.dispatch('submitNewWatch', this.addWatch);\n        this.$ga.event({\n          eventCategory: 'Manage_Collection',\n          eventAction: 'Add_Watch_Modal_Click',\n          eventLabel: 'Submit New Watch'\n        });\n      } else {\n        // editing existing watch\n        this.$store.dispatch('submitEditWatch', this.addWatch);\n        this.$ga.event({\n          eventCategory: 'Manage_Collection',\n          eventAction: 'Edit_Watch_Modal_Click',\n          eventLabel: 'Submit Edit Watch'\n        });\n      }\n\n      this.createAddWatch(); // reset add watch to defaults\n\n      this.addWatchCount = 1; // resets watch count\n    },\n    backToEditStart: function backToEditStart() {\n      this.addWatchCount = 1;\n      this.$refs.addWatchModal.show();\n      this.$refs.seeMoreModal.hide();\n      this.$ga.event({\n        eventCategory: 'Manage_Collection',\n        eventAction: 'Add_Watch_Modal_Click',\n        eventLabel: 'Restart Editing Watch'\n      });\n    },\n    createAddWatch: function createAddWatch() {\n      var _this$addWatch;\n\n      this.addWatch = (_this$addWatch = {\n        src: {\n          images: []\n        },\n        brand: '',\n        name: '',\n        isForSale: false,\n        isForTrade: false,\n        isFullKit: false,\n        watchStyle: null\n      }, _defineProperty(_this$addWatch, \"watchStyle\", null), _defineProperty(_this$addWatch, \"accuracy\", null), _defineProperty(_this$addWatch, \"movement\", null), _defineProperty(_this$addWatch, \"movementType\", null), _defineProperty(_this$addWatch, \"sizeLugToLug\", null), _defineProperty(_this$addWatch, \"sizeWidth\", null), _defineProperty(_this$addWatch, \"sizeHeight\", null), _defineProperty(_this$addWatch, \"crystal\", null), _defineProperty(_this$addWatch, \"band\", ''), _defineProperty(_this$addWatch, \"model\", ''), _defineProperty(_this$addWatch, \"ref\", ''), _defineProperty(_this$addWatch, \"forSalePrice\", null), _defineProperty(_this$addWatch, \"forTradeValue\", null), _defineProperty(_this$addWatch, \"acquiredFor\", null), _defineProperty(_this$addWatch, \"dateAcquired\", ''), _this$addWatch);\n    },\n    orderChanged: function orderChanged() {\n      this.isChangedOrder = true;\n    },\n    titleCase: function titleCase(str) {\n      var splitStr = str.toLowerCase().split(' ');\n\n      for (var i = 0; i < splitStr.length; i++) {\n        splitStr[i] = splitStr[i].charAt(0).toUpperCase() + splitStr[i].substring(1);\n      }\n\n      return splitStr.join(' ');\n    },\n    getCollectionTotalValue: function getCollectionTotalValue() {\n      var val = 0;\n      var Collection = this.$store.state.Collection;\n\n      if (Collection[0]) {\n        Collection.forEach(function (x) {\n          if (x.forSalePrice) {\n            val += +x.forSalePrice;\n          } else if (x.marketValue) {\n            val += +x.marketValue;\n          } else if (x.forTradeValue) {\n            val += +x.forTradeValue;\n          }\n        });\n      }\n\n      if (val > 0) {\n        return val;\n      } else {\n        return 'N/A';\n      }\n    }\n  },\n  computed: {\n    isLoading: function isLoading() {\n      return this.$store.state.isLoading;\n    },\n    User: function User() {\n      return this.$store.state.User;\n    },\n    isDragToOrganize: function isDragToOrganize() {\n      return this.$store.state.isDragToOrganize;\n    },\n    Collection: function Collection() {\n      if (this.isManagingCollection) {\n        return this.$store.state.FilteredCollection;\n      } else return this.$store.state.Collection;\n    },\n    isManagingCollection: function isManagingCollection() {\n      return this.$store.state.isManagingCollection;\n    },\n    isUserLoaded: function isUserLoaded() {\n      return this.$store.state.isUserLoaded;\n    },\n    isCollectionLoaded: function isCollectionLoaded() {\n      return this.$store.state.isCollectionLoaded;\n    },\n    isFilteringCollection: function isFilteringCollection() {\n      return this.$store.state.isFilteringCollection;\n    }\n  },\n  created: function created() {\n    this.$store.dispatch('loadUserCollection');\n    this.$store.dispatch('getFavorites');\n  }\n};",{"version":3,"sources":["Collection.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <b-container v-if=\"!isCollectionLoaded\" class=\"z-4\">\n        <b-row align-h=\"center\" align-v=\"center\" class=\"mt-2 p-3\">\n            <loader></loader>\n        </b-row>\n    </b-container>\n    <b-container fluid v-else>\n         <b-row v-if=\"Collection.length == 0 && !isManagingCollection\" align-h=\"center\" no-gutters class=\"mb-6 mb-mlg-0\">\n            <b-col cols=\"10\" md=\"8\" class=\"border my-5 center p-2 p-md-5\" id=\"begin-collection\">\n                <p class=\"h2 center\">Welcome to your <span class=\"nowrap\">Watch Collection!</span></p>\n                <p class=\"h4 m-h2 mt-4 mt-md-5\">Get started by adding a watch!</p>\n                <b-row>\n                    <b-col cols=\"6\" class=\"mx-auto my-3\">\n                        <b-button variant=\"success\" class=\"my-2\" size=\"lg\" @click=\"addWatchModal\" block>Add Watch</b-button>\n                    </b-col>\n                </b-row>\n            </b-col>\n        </b-row>\n        <b-row v-else align-h=\"center\" no-gutters>\n            <b-col>\n                <b-row class=\"my-3 mx-auto pl-2 pl-md-0 center m-left-align\" align-v=\"center\" align-h=\"center\">\n                    <b-col cols=\"12\" md=\"5\" lg=\"6\" class=\"p-0 m-0 h3\">\n                        <strong>{{User.firstName}}'s Collection</strong>\n                    </b-col>\n                    <b-col cols=\"12\" md=\"7\" lg=\"6\" class=\"p-0 m-0 center m-left-align mt-2 mt-md-0\">\n                        <!-- <p cols=\"12\" class=\"mb-1 mb-md-0 m-h2 h4 left-align m-left-align w-75 mw-100\" @click=\"OpenWotdSeeMore(WOTD.id)\">Watch of The Day: <span class=\"bold pointer\">{{titleCase(WOTD.name)}}</span> <strong></strong> </p> -->\n                        <p class=\"my-0 m-h2 mt-0 h4 left-align m-left-align w-75 mw-100\">Total Value: <strong class=\"green\">${{getCollectionTotalValue()}}</strong> </p>\n                    </b-col>\n                </b-row>\n\n                <manage-collection\n                    v-on:addNewWatch=\"addWatchModal\"\n                    v-on:selectRandomWatch=\"SelectRandomWatch\">\n                </manage-collection>\n\n\n                \n                <draggable-watch-collection\n                    v-show=\"Collection.length && isDragToOrganize\"\n                    @selectWatch=\"selectWatch\"\n                    @editWatchModal=\"editWatchModal\"\n                    @orderChanged=\"orderChanged\"\n                    :Collection=\"Collection\">\n                </draggable-watch-collection>\n                <non-draggable-watch-collection\n                    v-show=\"Collection.length && !isDragToOrganize\"\n                    @selectWatch=\"selectWatch\"\n                    @editWatchModal=\"editWatchModal\"\n                    @orderChanged=\"orderChanged\"\n                    :Collection=\"Collection\">\n                </non-draggable-watch-collection>\n                <b-col v-show=\"!Collection.length && !isDragToOrganize\" class=\"center w-100 mt-4\">\n                    No watches found\n                </b-col>\n            </b-col>\n        </b-row>\n\n        <!-- No watch collection / Start Collection -->\n\n        <!-- SEE MORE MODAL -->\n        <b-modal\n            ref=\"seeMoreModal\"\n            id=\"see-more-modal\"\n            class=\"z-4\">\n            <div slot=\"modal-title\" class=\"breakWord\" v-if=\"selectedWatch.name\">{{ titleCase(selectedWatch.name) }}</div>\n            <div slot=\"modal-header-close\" class=\"w-100 mt-1\" @click=\"resetWatchFormAndModals\">\n                X\n            </div>\n            <see-more-modal\n                :selectedWatch=\"selectedWatch\"\n                :isAddingWatch=\"isAddingWatch\">\n            </see-more-modal>\n            <div slot=\"modal-footer\" class=\"w-100 mt-0 p-0\">\n                <b-btn  size=\"sm\" class=\"center white bg-light-yellow\" variant=\"default\" @click=\"backToEditStart\" v-if=\"isAddingWatch || isEditingExistingWatch\">\n                    Back\n                </b-btn>\n                <b-btn size=\"sm\" class=\"float-right bg-light-blue white\" variant=\"default\" @click=\"submitWatch\" v-if=\"isAddingWatch || isEditingExistingWatch\">\n                    Submit\n                </b-btn>\n                <b-btn size=\"sm\" class=\"float-right bg-light-blue white\" variant=\"default\" v-else @click=\"resetWatchFormAndModals\">\n                    Ok\n                </b-btn>\n            </div>\n        </b-modal>\n\n        <!-- ADD WATCH MODAL -->\n        <b-modal\n            id=\"add-watch-modal\"\n            ref=\"addWatchModal\"\n            size=\"lg\"\n            class=\"z-4\">\n            <b-row no-gutters slot=\"modal-title\" v-if=\"isAddingWatch\">Adding Watch</b-row>\n            <b-row no-gutters slot=\"modal-title\" v-if=\"isEditingExistingWatch\" class=\"breakWord\">Editing {{titleCase(addWatch.name)}}</b-row>\n            <b-row no-gutters slot=\"modal-header-close\" class=\"w-100 mt-1\" @click=\"resetWatchFormAndModals\">\n                X\n            </b-row>\n            <b-row no-gutters v-show=\"isS3UploadEvent\" class=\"p-2\">\n                <loader></loader>\n            </b-row>\n            <add-watch-modal\n                v-show=\"!isS3UploadEvent\"\n                :previewWatch=\"previewWatch\"\n                :addWatch=\"addWatch\"\n                :addWatchCount=\"addWatchCount\">\n            </add-watch-modal>\n            <b-row slot=\"modal-footer\" no-gutters class=\"w-100\" align-h=\"end\" align-v=\"center\">\n                <b-col cols=\"12\" class=\"my-1\">\n                    <!-- Potential Progress Bar -->\n                    <p v-if=\"!addWatch.name && addWatchCount == 2\" class=\"red p-0 m-0 h5 m-h4\">*Please add a name for this watch</p>\n                </b-col>\n                <b-col cols=\"12\">\n                    <b-row v-if=\"addWatchCount == 1 \" no-gutters align-h=\"end\">\n                        <b-btn size=\"sm\" class=\"right bg-light-blue white p-2\" variant=\"secondary\" @click=\"uploadImagesToAwsS3\" :disabled=\"!addWatch.src.images.length\">\n                            Add Details\n                        </b-btn>\n                    </b-row>\n                    <b-row align-h=\"between\" align-v=\"center\" no-gutters>\n                        <b-btn  size=\"sm\" class=\"center white bg-light-yellow white\" :class=\"addWatchCount == 1 ? 'hidden' : ''\" variant=\"secondary\" @click=\"addWatchCount--\">\n                            Previous\n                        </b-btn>\n                        <b-btn size=\"sm\" variant=\"outline-success\" @click=\"submitWatch\" :disabled=\"!addWatch.name || !addWatch.src.images\" v-if=\"addWatchCount !== 1\">\n                            Finish\n                        </b-btn>\n                        <b-btn size=\"sm\" class=\"bg-light-blue white\" variant=\"secondary\" @click=\"addWatchCount++\" :class=\"addWatchCount == 2 ? '' : 'hidden'\" :disabled=\"!addWatch.name\">\n                            Continue\n                        </b-btn>\n                        <b-btn size=\"sm\" class=\"bg-light-blue white\" :class=\"addWatchCount == 3 ? '' : 'hidden'\" variant=\"secondary\" @click=\"addWatchCount++\">\n                            Owner Details\n                        </b-btn>\n                        <b-btn size=\"sm\" class=\"bg-light-blue white\" :class=\"addWatchCount == 4 ? '' : 'hidden'\" variant=\"secondary\" @click=\"previewWatch\">\n                            Preview\n                        </b-btn>\n                    </b-row>\n                </b-col>\n            </b-row>\n        </b-modal>\n\n    </b-container>\n</template>\n\n<script>\nimport axios from 'axios'\nimport SeeMoreModal from './Modals/SeeMoreModal.vue'\nimport AddWatchModal from './Modals/AddWatchModal.vue'\nimport DraggableWatchCollection from './DraggableWatchCollection.vue'\nimport NonDraggableWatchCollection from './NonDraggableWatchCollection.vue'\nimport ManageCollection from './ManageCollection.vue'\nimport { setTimeout } from 'timers'\nimport loader from '../../Loader.vue'\nimport LoadImageUtility from '../../../Utilities/LoadImageUtility'\nimport ImgBase64 from 'base64-img'\n\n\nexport default {\n  components: {\n    seeMoreModal: SeeMoreModal,\n    addWatchModal: AddWatchModal,\n    draggableWatchCollection: DraggableWatchCollection,\n    nonDraggableWatchCollection: NonDraggableWatchCollection,\n    manageCollection: ManageCollection,\n    loader: loader\n  },\n  data () {\n    return {\n      isS3UploadEvent: false,\n      isChangedOrder: false,\n      addWatchCount: 1,\n\n      showDismissibleAlert: false,\n      isAddingWatch: false,\n      isEditingExistingWatch: false,\n      selectedWatch: {},\n      isSeeMore: false,\n      addWatch: {\n        src: { images: [] }\n      },\n      addWatchImages: [],\n      isFeaturedWatch: false,\n      hasCollection: false,\n      searchTerms: [\n        'brand',\n        'name',\n        'model',\n        'ref'\n      ]\n    }\n  },\n\n  methods: {\n    uploadImagesToAwsS3 () {\n      let files = this.addWatch.src.images\n      this.addWatchCount++\n      this.S3UploadEventListener(true)\n      let fileArr = []\n      files.forEach(file => {\n          if (!LoadImageUtility.ContainsS3Information(file.src.substring(0, 30))) {\n              console.log('new image, so going to save base 64 to s3', file)\n              fileArr.push(\n              { src: file.src,\n                // fileName: file.fileName\n              })\n          } \n      })\n      if (fileArr[0]) {\n        console.log('There are new images to upload, so I will upload this array of base 64 images to s3', fileArr, this.addWatch.src.images.length)\n        this.$store.dispatch('uploadImagesToAwsS3', fileArr)\n            .then(images => {  \n            let tempArr = this.addWatch.src.images.concat(images)\n            let imagesCount = 0;\n            for (let i = 0; i < tempArr.length; i++) {\n                if (!LoadImageUtility.ContainsS3Information(tempArr[i].src.substring(0, 30))) { // if the src property on the index of the current array does not contaain S3 information\n                    tempArr[i].src = images[imagesCount].src\n                    // tempArr[i].order = i\n                    imagesCount++\n                }\n            }\n            imagesCount = 0\n\n                \n\n            // this.addWatch.src.images = tempArr\n            this.S3UploadEventListener(false)\n            fileArr = []\n\n\n\n\n\n            // console.log('got this back', images)\n            //     let currentArr = this.addWatch.src.images\n            //     // images.forEach(s3Img => { // for each new s3 image check the current images for the next non s3 image str, map it\n            //     for (let j = 0; j < images.length; j++) {\n            //         for (let i = 0; i < currentArr.length; i++) {\n            //             if (!LoadImageUtility.ContainsS3Information(currentArr[i].src.substring(0, 30))) { // if the current img is not a S3 bucket string, let's make it one\n            //                     console.log('its new!!',currentArr[i].src, 'to become',  images[j].Location)\n            //                     currentArr[i].src = images[j].Location\n            //                     currentArr[i].order = i\n            //                     currentArr[i].fileName = images[j].fileName\n            //                     break\n            //                 }\n            //             }\n            //         }\n            // this.addWatch.src.images = currentArr\n            \n        }).catch(err => {\n            console.log(err)\n            this.S3UploadEventListener(false) \n        })\n      }\n      else {\n          this.S3UploadEventListener(false)\n      }\n    },\n\n    S3UploadEventListener(value) {\n        this.isS3UploadEvent = value;\n    },\n\n    selectWatch (watch) {\n      this.selectedWatch = watch\n      this.$refs.seeMoreModal.show()\n\n    // Analytics\n      this.$ga.event({\n        eventCategory: 'Watch_Collection',\n        eventAction: 'See_More_Modal_Click',\n        eventLabel: 'Open See More Watch Modal'\n      })\n    },\n\n    editWatchModal (watch) {\n      this.addWatch = watch\n      this.isAddingWatch = false\n      this.isEditingExistingWatch = true\n      this.addWatch.name = this.titleCase(watch.name)\n      this.addWatch.brand = this.titleCase(watch.brand)\n      this.$refs.addWatchModal.show()\n\n      // Analytics\n      this.$ga.event({\n        eventCategory: 'Manage_Collection',\n        eventAction: 'Edit_Watch_Modal_Click',\n        eventLabel: 'Begin Editing Watch'\n      })\n    },\n\n    OpenWotdSeeMore (watchId) {\n      let watch = this.Collection.find(x => x.id === watchId)\n      this.selectWatch(watch)\n\n        this.$ga.event({\n            eventCategory: 'Watch_Collection',\n            eventAction: 'WOTD_Btn_Click',\n            eventLabel: 'WOTD + See More Watch Modal'\n        })\n    },\n\n    SelectRandomWatch () {\n      let max = this.Collection.length\n      let min = 0\n      let index = Math.floor(Math.random() * (max - min) + min)\n      let randomWatch = this.Collection[index]\n      this.selectWatch(randomWatch)\n\n      // Analytics\n      this.$ga.event({\n        eventCategory: 'Manage_Collection',\n        eventAction: 'Random_Watch_Btn_Click',\n        eventLabel: 'Random Watch + See More Watch Modal'\n      })\n    },\n\n    addWatchModal () {\n      this.createAddWatch()\n      this.isAddingWatch = true\n      this.isEditingExistingWatch = false\n      this.$refs.addWatchModal.show()\n\n      // Analytics\n      this.$ga.event({\n        eventCategory: 'Manage_Collection',\n        eventAction: 'Add_Watch_Btn_Click',\n        eventLabel: 'Begin Adding Watch'\n      })\n    },\n\n    resetWatchFormAndModals () {\n      this.isAddingWatch = false\n      this.isEditingExistingWatch = false\n      this.$refs.addWatchModal.hide()\n      this.$refs.seeMoreModal.hide()\n      this.addWatch = this.addWatch\n      this.addWatchCount = 1\n    },\n\n    previewWatch () {\n      if (this.addWatch.brand) { this.addWatch.brand = this.addWatch.brand.toLowerCase() }\n      this.addWatch.name = this.addWatch.name.toLowerCase()\n      this.selectedWatch = this.addWatch\n\n      this.$refs.seeMoreModal.show()\n\n      // Analytics\n      this.$ga.event({\n        eventCategory: 'Manage_Collection',\n        eventAction: 'Add_Watch_Modal_Click',\n        eventLabel: 'Preview Adding Watch'\n      })\n    },\n\n    submitWatch () {\n      this.$refs.addWatchModal.hide()      \n      this.isAddingWatch = false\n      this.isEditingExistingWatch = false\n      this.$refs.seeMoreModal.hide()\n      if (!this.addWatch.id) {\n        // watch doesnt exist yet, create new watch\n        this.$store.dispatch('submitNewWatch', this.addWatch)\n\n        this.$ga.event({\n            eventCategory: 'Manage_Collection',\n            eventAction: 'Add_Watch_Modal_Click',\n            eventLabel: 'Submit New Watch'\n        })\n      } else {\n          // editing existing watch\n        this.$store.dispatch('submitEditWatch', this.addWatch)\n\n        this.$ga.event({\n            eventCategory: 'Manage_Collection',\n            eventAction: 'Edit_Watch_Modal_Click',\n            eventLabel: 'Submit Edit Watch'\n        })\n      }\n      this.createAddWatch() // reset add watch to defaults\n      this.addWatchCount = 1 // resets watch count\n    },\n\n    backToEditStart () {\n      this.addWatchCount = 1\n      this.$refs.addWatchModal.show()\n      this.$refs.seeMoreModal.hide()\n\n      this.$ga.event({\n        eventCategory: 'Manage_Collection',\n        eventAction: 'Add_Watch_Modal_Click',\n        eventLabel: 'Restart Editing Watch'\n      })\n    },\n\n    createAddWatch () {\n      this.addWatch = {\n        src: { images: [] },\n        brand: '',\n        name: '',\n        isForSale: false,\n        isForTrade: false,\n        isFullKit: false,\n        watchStyle: null,\n        watchStyle: null,\n        accuracy: null,\n        movement: null,\n        movementType: null,\n        sizeLugToLug: null,\n        sizeWidth: null,\n        sizeHeight: null,\n        crystal: null,\n        band: '',\n        model: '',\n        ref: '',\n        forSalePrice: null,\n        forTradeValue: null,\n        acquiredFor: null,\n        dateAcquired: ''\n      }\n    },\n\n    orderChanged () {\n      this.isChangedOrder = true\n    },\n\n    titleCase (str) {\n      var splitStr = str.toLowerCase().split(' ')\n      for (var i = 0; i < splitStr.length; i++) {\n        splitStr[i] = splitStr[i].charAt(0).toUpperCase() + splitStr[i].substring(1)\n      }\n      return splitStr.join(' ')\n    },\n\n    getCollectionTotalValue () {\n        let val = 0\n        let Collection = this.$store.state.Collection\n        if (Collection[0]) {\n            Collection.forEach(x => {\n          if (x.forSalePrice) {\n            val += +x.forSalePrice\n          } else if (x.marketValue) {\n            val += +x.marketValue\n            \n          } else if (x.forTradeValue) {\n            val += +x.forTradeValue\n          }\n        })\n        }\n        \n        \n        if (val > 0) {\n          return val\n        } else {\n          return 'N/A'\n        }\n      },\n  },\n\n  computed:\n    {\n      isLoading () {\n        return this.$store.state.isLoading\n      },\n\n      User () {\n        return this.$store.state.User\n      },\n\n      isDragToOrganize () {\n          return this.$store.state.isDragToOrganize\n      },\n\n      Collection () {\n        if (this.isManagingCollection) {\n          return this.$store.state.FilteredCollection\n        } else return this.$store.state.Collection\n      },\n\n      isManagingCollection () {\n        return this.$store.state.isManagingCollection\n      },\n\n      isUserLoaded () {\n        return this.$store.state.isUserLoaded\n      },\n\n      isCollectionLoaded () {\n        return this.$store.state.isCollectionLoaded\n      },\n\n      isFilteringCollection () {\n        return this.$store.state.isFilteringCollection\n      },\n\n    //   WOTD () {\n    //       let Collection = this.$store.state.Collection;\n    //       if (Collection[0]) {\n    //         let i = this.$store.state.cookieValueWOTD\n    //         let c = this.$store.state.Collection[i];\n    //         return { name: c.name, id: c.id }\n    //       } else {\n    //           return 'Add a Watch to your Collection!'\n    //       }\n    //   }\n    },\n\n  created: function () {\n    this.$store.dispatch('loadUserCollection')\n    this.$store.dispatch('getFavorites')\n  }\n}\n</script>\n\n<style scoped>\n.breakWord {\n    word-wrap: break-word;\n    width: 100%;\n}\n    .dropdown {\n        font-size: .5em;\n    }\n    #begin-collection {\n        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n    }\n\n    .modal-dialog {\n        max-width: 48.5%;\n        display: flex;\n        justify-content: center;\n        margin-left: auto;\n        margin-right: auto;\n    }\n\n    .manage-btn-border {\n        border-right: 1px solid lightgray;\n    }\n\n    .btn {\n        text-align: center;\n        font-size: .85em;\n    }\n\n    #add-watch-modal .modal-dialog {\n        width: 80% !important;\n    }\n\n    .modal-body {\n        padding: .5rem;\n    }\n\n    #add-img-div {\n        min-width: 100px;\n        min-height: 100px;\n    }\n\n    .form-control:focus {\n        border-color: inherit;\n        -webkit-box-shadow: none;\n        box-shadow: none;\n    }\n\n@media(min-width: 991px) {\n    .pr-3half {\n        padding-right: .75em;\n    }\n}\n\n@media(min-width: 580px) {\n    .btn  {\n        padding: .6em 2em;\n    }\n\n    #searchInput {\n        padding: 1.285em .5em !important;\n    }\n\n    .input-group-prepend .input-group-text {\n        padding: 1.285em !important;\n    }\n}\n\n@media(max-width: 579px) {\n    .custom-select {\n            height: calc(1.69rem + 2px);\n        }\n\n        .caret {\n    display: none;\n}\n}\n\n@media(max-width: 750px) {\n    .modal-dialog {\n        max-width: 5%;\n    }\n\n    #watch-controls {\n        font-size: 1em;\n    }\n\n    #dropdown {\n        font-size: .8em;\n        padding:0;\n    }\n}\n\n.mr-6 {\n    margin-right: 6.5em;\n}\n\n</style>\n"],"sourceRoot":"src/components/Profile/Collection"}]}