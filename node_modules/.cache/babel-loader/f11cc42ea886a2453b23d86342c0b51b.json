{"remainingRequest":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/new_client/node_modules/babel-loader/lib/index.js!/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/new_client/node_modules/eslint-loader/index.js??ref--13-0!/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/new_client/src/routes.js","dependencies":[{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/new_client/src/routes.js","mtime":1548990850787},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/new_client/node_modules/cache-loader/dist/cjs.js","mtime":1548990847448},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/new_client/node_modules/babel-loader/lib/index.js","mtime":1548990846981},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/new_client/node_modules/eslint-loader/index.js","mtime":1548990848181}],"contextDependencies":[],"result":["import Home from './components/Auth/Home.vue';\nimport Profile from './components/Profile/Profile.vue';\nimport store from './State/store.js';\nexport var routes = [{\n  path: '',\n  name: 'home',\n  component: Home,\n  beforeEnter: disallowAuth\n}, {\n  path: '/profile',\n  name: 'profile',\n  component: Profile,\n  beforeEnter: requireAuth\n}, {\n  path: '/discover',\n  name: 'discover',\n  component: function component() {\n    return import(\n    /* webpackChunkName: \"DiscoverWatches\" */\n    './components/DiscoverWatches.vue');\n  }\n}, {\n  path: '/watch',\n  name: 'watchShare',\n  component: function component() {\n    return import(\n    /* webpackChunkName: \"DiscoverWatches\" */\n    './components/WatchShare.vue');\n  }\n}, // {\n//     path: '/watch-news',\n//     name: 'watchNews',\n//     component: () => import(/* webpackChunkName: \"DiscoverWatches\" */ './components/WatchNews.vue')\n// },\n// {\n//     path: '/watch-news/:id',\n//     name: 'watchNewsArticle',\n//     component: () => import(/* webpackChunkName: \"DiscoverWatches\" */ './components/WatchNewsArticle.vue')\n// },\n{\n  path: '/contact',\n  name: 'contact',\n  component: function component() {\n    return import(\n    /* webpackChunkName: \"DiscoverWatches\" */\n    './components/ContactPage.vue');\n  }\n}, {\n  path: '/*',\n  name: 'wildcard',\n  component: Home,\n  beforeEnter: returnHome\n}];\n\nfunction returnHome(to, from, next) {\n  next('/');\n}\n\nfunction getJwt() {\n  return localStorage.getItem('watchJwt');\n}\n\nfunction requireAuth(to, from, next) {\n  if (!getJwt()) {\n    next('/');\n    return;\n  }\n\n  store.dispatch('validateJwt').then(function (res) {\n    if (res.data.isSuccess) {\n      next();\n      return;\n    }\n\n    next('/');\n  });\n}\n\nfunction disallowAuth(to, from, next) {\n  if (!getJwt()) {\n    next();\n    return;\n  }\n\n  store.dispatch('validateJwt').then(function (res) {\n    if (res.data.isSuccess) {\n      next('/profile');\n      return;\n    }\n\n    next();\n  });\n}",{"version":3,"sources":["/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/new_client/src/routes.js"],"names":["Home","Profile","store","routes","path","name","component","beforeEnter","disallowAuth","requireAuth","returnHome","to","from","next","getJwt","localStorage","getItem","dispatch","then","res","data","isSuccess"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,4BAAjB;AACA,OAAOC,OAAP,MAAoB,kCAApB;AACA,OAAOC,KAAP,MAAkB,kBAAlB;AAEA,OAAO,IAAMC,MAAM,GAAG,CACpB;AACEC,EAAAA,IAAI,EAAE,EADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAEN,IAHb;AAIEO,EAAAA,WAAW,EAAEC;AAJf,CADoB,EAOpB;AACEJ,EAAAA,IAAI,EAAE,UADR;AAEEC,EAAAA,IAAI,EAAE,SAFR;AAGEC,EAAAA,SAAS,EAAEL,OAHb;AAIEM,EAAAA,WAAW,EAAEE;AAJf,CAPoB,EAapB;AACEL,EAAAA,IAAI,EAAE,WADR;AAEEC,EAAAA,IAAI,EAAE,UAFR;AAGEC,EAAAA,SAAS,EAAE;AAAA,WAAM;AAAO;AAA0C,sCAAjD,CAAN;AAAA;AAHb,CAboB,EAkBpB;AACEF,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,YAFR;AAGEC,EAAAA,SAAS,EAAE;AAAA,WAAM;AAAO;AAA0C,iCAAjD,CAAN;AAAA;AAHb,CAlBoB,EAuBpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEF,EAAAA,IAAI,EAAE,UADR;AAEEC,EAAAA,IAAI,EAAE,SAFR;AAGEC,EAAAA,SAAS,EAAE;AAAA,WAAM;AAAO;AAA0C,kCAAjD,CAAN;AAAA;AAHb,CAjCoB,EAsCpB;AACEF,EAAAA,IAAI,EAAE,IADR;AAEEC,EAAAA,IAAI,EAAE,UAFR;AAGEC,EAAAA,SAAS,EAAEN,IAHb;AAIEO,EAAAA,WAAW,EAAEG;AAJf,CAtCoB,CAAf;;AA8CP,SAASA,UAAT,CAAqBC,EAArB,EAAyBC,IAAzB,EAA+BC,IAA/B,EAAqC;AACnCA,EAAAA,IAAI,CAAC,GAAD,CAAJ;AACD;;AAED,SAASC,MAAT,GAAmB;AACjB,SAAOC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAP;AACD;;AAED,SAASP,WAAT,CAAsBE,EAAtB,EAA0BC,IAA1B,EAAgCC,IAAhC,EAAsC;AACpC,MAAI,CAACC,MAAM,EAAX,EAAe;AACbD,IAAAA,IAAI,CAAC,GAAD,CAAJ;AACA;AACD;;AACDX,EAAAA,KAAK,CAACe,QAAN,CAAe,aAAf,EAA8BC,IAA9B,CAAmC,UAAAC,GAAG,EAAI;AACxC,QAAIA,GAAG,CAACC,IAAJ,CAASC,SAAb,EAAwB;AACtBR,MAAAA,IAAI;AACJ;AACD;;AACDA,IAAAA,IAAI,CAAC,GAAD,CAAJ;AACD,GAND;AAOD;;AAED,SAASL,YAAT,CAAuBG,EAAvB,EAA2BC,IAA3B,EAAiCC,IAAjC,EAAuC;AACrC,MAAI,CAACC,MAAM,EAAX,EAAe;AACbD,IAAAA,IAAI;AACJ;AACD;;AACDX,EAAAA,KAAK,CAACe,QAAN,CAAe,aAAf,EAA8BC,IAA9B,CAAmC,UAAAC,GAAG,EAAI;AACxC,QAAIA,GAAG,CAACC,IAAJ,CAASC,SAAb,EAAwB;AACtBR,MAAAA,IAAI,CAAC,UAAD,CAAJ;AACA;AACD;;AACDA,IAAAA,IAAI;AACL,GAND;AAOD","sourcesContent":["import Home from './components/Auth/Home.vue'\nimport Profile from './components/Profile/Profile.vue'\nimport store from './State/store.js'\n\nexport const routes = [\n  {\n    path: '',\n    name: 'home',\n    component: Home,\n    beforeEnter: disallowAuth\n  },\n  {\n    path: '/profile',\n    name: 'profile',\n    component: Profile,\n    beforeEnter: requireAuth\n  },\n  {\n    path: '/discover',\n    name: 'discover',\n    component: () => import(/* webpackChunkName: \"DiscoverWatches\" */ './components/DiscoverWatches.vue')\n  },\n  {\n    path: '/watch',\n    name: 'watchShare',\n    component: () => import(/* webpackChunkName: \"DiscoverWatches\" */ './components/WatchShare.vue')\n  },\n  // {\n  //     path: '/watch-news',\n  //     name: 'watchNews',\n  //     component: () => import(/* webpackChunkName: \"DiscoverWatches\" */ './components/WatchNews.vue')\n  // },\n  // {\n  //     path: '/watch-news/:id',\n  //     name: 'watchNewsArticle',\n  //     component: () => import(/* webpackChunkName: \"DiscoverWatches\" */ './components/WatchNewsArticle.vue')\n  // },\n  {\n    path: '/contact',\n    name: 'contact',\n    component: () => import(/* webpackChunkName: \"DiscoverWatches\" */ './components/ContactPage.vue')\n  },\n  {\n    path: '/*',\n    name: 'wildcard',\n    component: Home,\n    beforeEnter: returnHome\n  }\n]\n\nfunction returnHome (to, from, next) {\n  next('/')\n}\n\nfunction getJwt () {\n  return localStorage.getItem('watchJwt')\n}\n\nfunction requireAuth (to, from, next) {\n  if (!getJwt()) {\n    next('/')\n    return\n  }\n  store.dispatch('validateJwt').then(res => {\n    if (res.data.isSuccess) {\n      next()\n      return\n    }\n    next('/')\n  })\n}\n\nfunction disallowAuth (to, from, next) {\n  if (!getJwt()) {\n    next()\n    return\n  }\n  store.dispatch('validateJwt').then(res => {\n    if (res.data.isSuccess) {\n      next('/profile')\n      return\n    }\n    next()\n  })\n}\n"]}]}