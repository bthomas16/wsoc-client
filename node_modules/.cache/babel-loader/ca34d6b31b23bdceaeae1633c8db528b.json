{"remainingRequest":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/node_modules/babel-loader/lib/index.js!/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/src/components/Profile/Collection/Collection.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/src/components/Profile/Collection/Collection.vue","mtime":1548536815911},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.split\";\nimport _defineProperty from \"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/wc-client-vue3/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport SeeMoreModal from './Modals/SeeMoreModal.vue';\nimport AddWatchModal from './Modals/AddWatchModal.vue';\nimport DraggableWatchCollection from './DraggableWatchCollection.vue';\nimport NonDraggableWatchCollection from './NonDraggableWatchCollection.vue';\nimport ManageCollection from './ManageCollection.vue';\nimport { setTimeout } from 'timers';\nexport default {\n  components: {\n    seeMoreModal: SeeMoreModal,\n    addWatchModal: AddWatchModal,\n    draggableWatchCollection: DraggableWatchCollection,\n    nonDraggableWatchCollection: NonDraggableWatchCollection,\n    manageCollection: ManageCollection\n  },\n  data: function data() {\n    return {\n      isChangedOrder: false,\n      addWatchCount: 1,\n      showDismissibleAlert: false,\n      isAddingWatch: false,\n      isEditingExistingWatch: false,\n      selectedWatch: {},\n      isSeeMore: false,\n      addWatch: {\n        src: {\n          images: []\n        }\n      },\n      addWatchImages: [],\n      isFeaturedWatch: false,\n      hasCollection: false,\n      searchTerms: ['brand', 'name', 'model', 'ref']\n    };\n  },\n  methods: _defineProperty({\n    selectWatch: function selectWatch(watch) {\n      this.selectedWatch = watch;\n      this.$refs.seeMoreModal.show();\n    },\n    editWatchModal: function editWatchModal(watch) {\n      this.addWatch = watch;\n      this.isAddingWatch = false;\n      this.isEditingExistingWatch = true;\n      this.addWatch.name = this.titleCase(watch.name);\n      this.addWatch.brand = this.titleCase(watch.brand);\n      this.$refs.addWatchModal.show();\n    },\n    OpenWotdSeeMore: function OpenWotdSeeMore(watchId) {\n      var watch = this.Collection.find(function (x) {\n        return x.id === watchId;\n      });\n      this.selectWatch(watch);\n    },\n    SelectRandomWatch: function SelectRandomWatch() {\n      var max = this.Collection.length;\n      var min = 0;\n      var index = Math.floor(Math.random() * (max - min) + min);\n      var randomWatch = this.Collection[index];\n      console.log('we out here', randomWatch);\n      this.selectWatch(randomWatch);\n    },\n    openWatchModal: function openWatchModal() {\n      this.$rers.addWatchModal.show();\n    },\n    addWatchModal: function addWatchModal() {\n      this.createAddWatch();\n      this.isAddingWatch = true;\n      this.isEditingExistingWatch = false;\n      this.$refs.addWatchModal.show();\n    },\n    resetWatchFormAndModals: function resetWatchFormAndModals() {\n      this.isAddingWatch = false;\n      this.isEditingExistingWatch = false;\n      this.$refs.addWatchModal.hide();\n      this.$refs.seeMoreModal.hide();\n      this.addWatch = this.addWatch;\n      this.addWatchCount = 1;\n    },\n    previewWatch: function previewWatch() {\n      if (this.addWatch.brand) {\n        this.addWatch.brand = this.addWatch.brand.toLowerCase();\n      }\n\n      this.addWatch.name = this.addWatch.name.toLowerCase();\n      console.log(this.addWatch);\n      this.selectedWatch = this.addWatch;\n      this.$refs.addWatchModal.hide();\n      this.$refs.seeMoreModal.show();\n    },\n    submitWatch: function submitWatch() {\n      this.isAddingWatch = false;\n      this.isEditingExistingWatch = false;\n      this.$refs.seeMoreModal.hide();\n\n      if (!this.addWatch.id) {\n        // watch doesnt exist yet, create new watch\n        this.$store.dispatch('submitNewWatch', this.addWatch);\n      } else {\n        // editing existing watch\n        this.$store.dispatch('submitEditWatch', this.addWatch);\n      }\n\n      this.createAddWatch(); // reset add watch to defaults\n\n      this.addWatchCount = 1; // resets watch count\n      // TODO: NOT THIS\n      //   setTimeout(() => {\n      //     this.$store.dispatch('getNumberFSOT')\n      //     this.$store.dispatch('loadUserCollection')\n      //   }, 500)\n    },\n    backToEditStart: function backToEditStart() {\n      this.addWatchCount = 1;\n      this.$refs.addWatchModal.show();\n      this.$refs.seeMoreModal.hide();\n    },\n    createAddWatch: function createAddWatch() {\n      var _this$addWatch;\n\n      this.addWatch = (_this$addWatch = {\n        src: {\n          images: []\n        },\n        brand: '',\n        name: '',\n        isForSale: false,\n        isForTrade: false,\n        isFullKit: false,\n        watchStyle: null\n      }, _defineProperty(_this$addWatch, \"watchStyle\", null), _defineProperty(_this$addWatch, \"accuracy\", null), _defineProperty(_this$addWatch, \"movement\", null), _defineProperty(_this$addWatch, \"movementType\", null), _defineProperty(_this$addWatch, \"sizeLugToLug\", null), _defineProperty(_this$addWatch, \"sizeWidth\", null), _defineProperty(_this$addWatch, \"sizeHeight\", null), _defineProperty(_this$addWatch, \"crystal\", null), _defineProperty(_this$addWatch, \"band\", ''), _defineProperty(_this$addWatch, \"model\", ''), _defineProperty(_this$addWatch, \"ref\", ''), _defineProperty(_this$addWatch, \"forSalePrice\", null), _defineProperty(_this$addWatch, \"forTradeValue\", null), _defineProperty(_this$addWatch, \"acquiredFor\", null), _defineProperty(_this$addWatch, \"dateAcquired\", ''), _this$addWatch);\n    },\n    orderChanged: function orderChanged() {\n      this.isChangedOrder = true;\n    },\n    titleCase: function titleCase(str) {\n      var splitStr = str.toLowerCase().split(' ');\n\n      for (var i = 0; i < splitStr.length; i++) {\n        splitStr[i] = splitStr[i].charAt(0).toUpperCase() + splitStr[i].substring(1);\n      }\n\n      return splitStr.join(' ');\n    }\n  }, \"titleCase\", function titleCase(str) {\n    var splitStr = str.toLowerCase().split(' ');\n\n    for (var i = 0; i < splitStr.length; i++) {\n      splitStr[i] = splitStr[i].charAt(0).toUpperCase() + splitStr[i].substring(1);\n    }\n\n    return splitStr.join(' ');\n  }),\n  computed: {\n    isLoading: function isLoading() {\n      return this.$store.state.isLoading;\n    },\n    getCollectionTotalValue: function getCollectionTotalValue() {\n      var val = 0;\n      this.Collection.forEach(function (x) {\n        if (x.forSalePrice) {\n          val += x.forSalePrice;\n        } else if (x.marketValue) {\n          val += x.marketValue;\n        } else if (x.marketValue) {\n          val += x.forTradeValue;\n        }\n      });\n\n      if (val > 0) {\n        return val;\n      } else {\n        return 'N/A';\n      }\n    },\n    User: function User() {\n      return this.$store.state.User;\n    },\n    isDragToOrganize: function isDragToOrganize() {\n      return this.$store.state.isDragToOrganize;\n    },\n    Collection: function Collection() {\n      if (this.isManagingCollection) {\n        return this.$store.state.FilteredCollection;\n      } else return this.$store.state.Collection;\n    },\n    isManagingCollection: function isManagingCollection() {\n      return this.$store.state.isManagingCollection;\n    },\n    isUserLoaded: function isUserLoaded() {\n      return this.$store.state.isUserLoaded;\n    },\n    isCollectionLoaded: function isCollectionLoaded() {\n      return this.$store.state.isCollectionLoaded;\n    },\n    isFilteringCollection: function isFilteringCollection() {\n      return this.$store.state.isFilteringCollection;\n    },\n    WOTD: function WOTD() {\n      var Collection = this.$store.state.Collection;\n\n      if (Collection) {\n        var i = this.$store.state.cookieValueWOTD;\n        var c = this.$store.state.Collection[i];\n        return {\n          name: c.name,\n          id: c.id\n        };\n      } else {\n        return 'Add a Watch to your Collection!';\n      }\n    }\n  },\n  created: function created() {\n    this.$store.dispatch('loadUserCollection');\n    this.$store.dispatch('getFavorites');\n  }\n};",{"version":3,"sources":["Collection.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <b-container v-if=\"!isCollectionLoaded\" class=\"z-4\">\n        <b-row align-h=\"center\" align-v=\"center\">\n            <b-col class=\"mx-auto mt-5 center\">LOADING...</b-col>\n        </b-row>\n    </b-container>\n    <b-container fluid v-else >\n         <b-row v-if=\"Collection.length == 0 && !isManagingCollection\" align-h=\"center\" no-gutters>\n            <b-col cols=\"10\" md=\"8\" class=\"border my-5 center p-2 p-md-5\" id=\"begin-collection\">\n                <p class=\"h2 center\">Welcome to your <span class=\"nowrap\">Watch Collection!</span></p>\n                <p class=\"h4 m-h2 mt-4 mt-md-5\">Get started by adding a watch!</p>\n                <b-row>\n                    <b-col cols=\"6\" class=\"mx-auto my-3\">\n                        <b-button variant=\"success\" class=\"my-2\" size=\"lg\" @click=\"addWatchModal\" block>Add Watch</b-button>\n                    </b-col>\n                </b-row>\n            </b-col>\n        </b-row>\n        <b-row v-else align-h=\"center\" no-gutters>\n            <b-col>\n                <b-row class=\"my-3 mx-auto pl-2 pl-md-0 center m-left-align\" align-v=\"center\" align-h=\"center\">\n                    <b-col cols=\"12\" md=\"5\" lg=\"6\" class=\"p-0 m-0 h3\">\n                        <strong>{{User.firstName}}'s Collection</strong>\n                    </b-col>\n                    <b-col cols=\"12\" md=\"7\" lg=\"6\" class=\"p-0 m-0 center m-left-align mt-2 mt-md-0\">\n                        <p cols=\"12\" class=\"mb-1 mb-md-0 m-h2 h4 left-align m-left-align w-75 mw-100\" @click=\"OpenWotdSeeMore(WOTD.id)\">Watch of The Day: <span class=\"bold pointer\">{{titleCase(WOTD.name)}}</span> <strong></strong> </p>\n                        <p class=\"my-0 m-h2 mt-0 h4 left-align m-left-align w-75 mw-100\">Total Value: <strong class=\"green\">${{getCollectionTotalValue}}</strong> </p>\n                    </b-col>\n                </b-row>\n\n                <manage-collection\n                    v-on:addNewWatch=\"addWatchModal\"\n                    v-on:selectRandomWatch=\"SelectRandomWatch\">\n                </manage-collection>\n\n\n                \n                <draggable-watch-collection\n                    v-if=\"isDragToOrganize\"\n                    @selectWatch=\"selectWatch\"\n                    @editWatchModal=\"editWatchModal\"\n                    @orderChanged=\"orderChanged\"\n                    :Collection=\"Collection\">\n                </draggable-watch-collection>\n                <non-draggable-watch-collection\n                    v-else-if=\"!isDragToOrganize\"\n                    @selectWatch=\"selectWatch\"\n                    @editWatchModal=\"editWatchModal\"\n                    @orderChanged=\"orderChanged\"\n                    :Collection=\"Collection\">\n                </non-draggable-watch-collection>\n                <b-col v-else class=\"center w-100 mt-4\">\n                    No watches found\n                </b-col>\n            </b-col>\n        </b-row>\n\n        <!-- No watch collection / Start Collection -->\n\n        <!-- SEE MORE MODAL -->\n        <b-modal\n            ref=\"seeMoreModal\"\n            id=\"see-more-modal\">\n            <div slot=\"modal-title\" class=\"h-100 breakWord h4\" v-if=\"selectedWatch.name\">{{ titleCase(selectedWatch.name) }}</div>\n            <div slot=\"modal-header-close\" class=\"w-100 m-h2 mt-2 mt-md-1\" @click=\"resetWatchFormAndModals\">\n                X\n            </div>\n            <see-more-modal\n                :selectedWatch=\"selectedWatch\"\n                :isAddingWatch=\"isAddingWatch\">\n            </see-more-modal>\n            <div slot=\"modal-footer\" class=\"w-100 mt-0 p-0\">\n                <b-btn  size=\"sm\" class=\"center white bg-light-yellow\" variant=\"default\" @click=\"backToEditStart\" v-if=\"isAddingWatch || isEditingExistingWatch\">\n                    Back\n                </b-btn>\n                <b-btn size=\"sm\" class=\"float-right bg-light-blue white\" variant=\"default\" @click=\"submitWatch\" v-if=\"isAddingWatch || isEditingExistingWatch\">\n                    Submit\n                </b-btn>\n                <b-btn size=\"sm\" class=\"float-right bg-light-blue white\" variant=\"default\" v-else @click=\"resetWatchFormAndModals\">\n                    Ok\n                </b-btn>\n            </div>\n        </b-modal>\n\n        <!-- ADD WATCH MODAL -->\n        <b-modal\n            id=\"add-watch-modal\"\n            ref=\"addWatchModal\"\n            size=\"lg\">\n            <div slot=\"modal-title\" v-if=\"isAddingWatch\">Adding Watch</div>\n            <div slot=\"modal-title\" v-if=\"isEditingExistingWatch\" class=\"h4\">Editing {{titleCase(addWatch.name)}}</div>\n            <div slot=\"modal-header-close\" class=\"w-100 m-h2 mt-2 mt-md-1\" @click=\"resetWatchFormAndModals\">\n                X\n            </div>\n            <add-watch-modal\n                :previewWatch=\"previewWatch\"\n                :addWatch=\"addWatch\"\n                :addWatchCount=\"addWatchCount\">\n            </add-watch-modal>\n            <b-row slot=\"modal-footer\" no-gutters class=\"w-100\" align-h=\"end\" align-v=\"center\">\n                <b-col cols=\"12\">\n                    <!-- Potential Progress Bar -->\n                    <p v-if=\"!addWatch.name && addWatchCount == 2\" class=\"red p-0 m-0 h5 m-h4\">Please add a name for this watch</p>\n                </b-col>\n                <b-col cols=\"12\">\n                    <b-row v-if=\"addWatchCount == 1 \" no-gutters align-h=\"end\">\n                        <b-btn size=\"sm\" class=\"right bg-light-blue white\" variant=\"default\" @click=\"addWatchCount++\" :disabled=\"!addWatch.src.images.length\">\n                            Add Details\n                        </b-btn>\n                    </b-row>\n                    <b-row align-h=\"between\" no-gutters>\n                        <b-btn  size=\"sm\" class=\"center white bg-light-yellow white\" :class=\"addWatchCount == 1 ? 'hidden' : ''\" variant=\"default\" @click=\"addWatchCount--\">\n                            Previous\n                        </b-btn>\n                        <b-button size=\"sm\" class=\"bg-light-blue white\" variant=\"default\" @click=\"addWatchCount++\" :class=\"addWatchCount == 2 ? '' : 'hidden'\" :disabled=\"!addWatch.name\">\n                            Continue\n                        </b-button>\n                        <b-btn size=\"sm\" class=\"bg-light-blue white\" :class=\"addWatchCount == 3 ? '' : 'hidden'\" variant=\"default\" @click=\"addWatchCount++\">\n                            Owner Details\n                        </b-btn>\n                        <b-btn size=\"sm\" class=\"bg-light-blue white\" :class=\"addWatchCount == 4 ? '' : 'hidden'\" variant=\"default\" @click=\"previewWatch\">\n                            Preview\n                        </b-btn>\n                    </b-row>\n                </b-col>\n            </b-row>\n        </b-modal>\n\n    </b-container>\n</template>\n\n<script>\nimport axios from 'axios'\nimport SeeMoreModal from './Modals/SeeMoreModal.vue'\nimport AddWatchModal from './Modals/AddWatchModal.vue'\nimport DraggableWatchCollection from './DraggableWatchCollection.vue'\nimport NonDraggableWatchCollection from './NonDraggableWatchCollection.vue'\nimport ManageCollection from './ManageCollection.vue'\nimport { setTimeout } from 'timers'\n\nexport default {\n  components: {\n    seeMoreModal: SeeMoreModal,\n    addWatchModal: AddWatchModal,\n    draggableWatchCollection: DraggableWatchCollection,\n    nonDraggableWatchCollection: NonDraggableWatchCollection,\n    manageCollection: ManageCollection\n  },\n  data () {\n    return {\n      isChangedOrder: false,\n      addWatchCount: 1,\n\n      showDismissibleAlert: false,\n      isAddingWatch: false,\n      isEditingExistingWatch: false,\n      selectedWatch: {},\n      isSeeMore: false,\n      addWatch: {\n        src: { images: [] }\n      },\n      addWatchImages: [],\n      isFeaturedWatch: false,\n      hasCollection: false,\n      searchTerms: [\n        'brand',\n        'name',\n        'model',\n        'ref'\n      ]\n    }\n  },\n\n  methods: {\n    selectWatch (watch) {\n      this.selectedWatch = watch\n      this.$refs.seeMoreModal.show()\n    },\n\n    editWatchModal (watch) {\n      this.addWatch = watch\n      this.isAddingWatch = false\n      this.isEditingExistingWatch = true\n      this.addWatch.name = this.titleCase(watch.name)\n      this.addWatch.brand = this.titleCase(watch.brand)\n      this.$refs.addWatchModal.show()\n    },\n\n    OpenWotdSeeMore (watchId) {\n      let watch = this.Collection.find(x => x.id === watchId)\n      this.selectWatch(watch)\n    },\n\n    SelectRandomWatch () {\n      let max = this.Collection.length\n      let min = 0\n      let index = Math.floor(Math.random() * (max - min) + min)\n      let randomWatch = this.Collection[index]\n      console.log('we out here', randomWatch)\n      this.selectWatch(randomWatch)\n    },\n\n    openWatchModal () {\n      this.$rers.addWatchModal.show()\n    },\n\n    addWatchModal () {\n      this.createAddWatch()\n      this.isAddingWatch = true\n      this.isEditingExistingWatch = false\n      this.$refs.addWatchModal.show()\n    },\n\n    resetWatchFormAndModals () {\n      this.isAddingWatch = false\n      this.isEditingExistingWatch = false\n      this.$refs.addWatchModal.hide()\n      this.$refs.seeMoreModal.hide()\n      this.addWatch = this.addWatch\n      this.addWatchCount = 1\n    },\n\n    previewWatch () {\n      if (this.addWatch.brand) { this.addWatch.brand = this.addWatch.brand.toLowerCase() }\n      this.addWatch.name = this.addWatch.name.toLowerCase()\n      console.log(this.addWatch)\n      this.selectedWatch = this.addWatch\n\n      this.$refs.addWatchModal.hide()\n      this.$refs.seeMoreModal.show()\n    },\n\n    submitWatch () {\n      this.isAddingWatch = false\n      this.isEditingExistingWatch = false\n      this.$refs.seeMoreModal.hide()\n      if (!this.addWatch.id) {\n        // watch doesnt exist yet, create new watch\n        this.$store.dispatch('submitNewWatch', this.addWatch)\n      } else {\n          // editing existing watch\n        this.$store.dispatch('submitEditWatch', this.addWatch)\n      }\n      this.createAddWatch() // reset add watch to defaults\n      this.addWatchCount = 1 // resets watch count\n\n      // TODO: NOT THIS\n    //   setTimeout(() => {\n    //     this.$store.dispatch('getNumberFSOT')\n    //     this.$store.dispatch('loadUserCollection')\n    //   }, 500)\n    },\n\n    backToEditStart () {\n      this.addWatchCount = 1\n      this.$refs.addWatchModal.show()\n      this.$refs.seeMoreModal.hide()\n    },\n\n    createAddWatch () {\n      this.addWatch = {\n        src: { images: [] },\n        brand: '',\n        name: '',\n        isForSale: false,\n        isForTrade: false,\n        isFullKit: false,\n        watchStyle: null,\n        watchStyle: null,\n        accuracy: null,\n        movement: null,\n        movementType: null,\n        sizeLugToLug: null,\n        sizeWidth: null,\n        sizeHeight: null,\n        crystal: null,\n        band: '',\n        model: '',\n        ref: '',\n        forSalePrice: null,\n        forTradeValue: null,\n        acquiredFor: null,\n        dateAcquired: ''\n      }\n    },\n\n    orderChanged () {\n      this.isChangedOrder = true\n    },\n\n    titleCase (str) {\n      var splitStr = str.toLowerCase().split(' ')\n      for (var i = 0; i < splitStr.length; i++) {\n        splitStr[i] = splitStr[i].charAt(0).toUpperCase() + splitStr[i].substring(1)\n      }\n      return splitStr.join(' ')\n    },\n\n    titleCase (str) {\n      var splitStr = str.toLowerCase().split(' ')\n      for (var i = 0; i < splitStr.length; i++) {\n        splitStr[i] = splitStr[i].charAt(0).toUpperCase() + splitStr[i].substring(1)\n      }\n      return splitStr.join(' ')\n    }\n  },\n\n  computed:\n    {\n      isLoading () {\n        return this.$store.state.isLoading\n      },\n\n      getCollectionTotalValue () {\n        let val = 0\n        this.Collection.forEach(x => {\n          if (x.forSalePrice) {\n            val += x.forSalePrice\n          } else if (x.marketValue) {\n            val += x.marketValue\n          } else if (x.marketValue) {\n            val += x.forTradeValue\n          }\n        })\n        if (val > 0) {\n          return val\n        } else {\n          return 'N/A'\n        }\n      },\n\n      User () {\n        return this.$store.state.User\n      },\n\n      isDragToOrganize () {\n          return this.$store.state.isDragToOrganize\n      },\n\n      Collection () {\n        if (this.isManagingCollection) {\n          return this.$store.state.FilteredCollection\n        } else return this.$store.state.Collection\n      },\n\n      isManagingCollection () {\n        return this.$store.state.isManagingCollection\n      },\n\n      isUserLoaded () {\n        return this.$store.state.isUserLoaded\n      },\n\n      isCollectionLoaded () {\n        return this.$store.state.isCollectionLoaded\n      },\n\n      isFilteringCollection () {\n        return this.$store.state.isFilteringCollection\n      },\n\n      WOTD () {\n          let Collection = this.$store.state.Collection;\n          if (Collection) {\n            let i = this.$store.state.cookieValueWOTD\n            let c = this.$store.state.Collection[i];\n            return { name: c.name, id: c.id }\n          } else {\n              return 'Add a Watch to your Collection!'\n          }\n      }\n    },\n\n  created: function () {\n    this.$store.dispatch('loadUserCollection')\n    this.$store.dispatch('getFavorites')\n  }\n}\n</script>\n\n<style scoped>\n.breakWord {\n    word-wrap: break-word;\n    width: 100%;\n}\n    .dropdown {\n        font-size: .5em;\n    }\n    #begin-collection {\n        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n    }\n\n    .modal-dialog {\n        max-width: 48.5%;\n        display: flex;\n        justify-content: center;\n        margin-left: auto;\n        margin-right: auto;\n    }\n\n    .manage-btn-border {\n        border-right: 1px solid lightgray;\n    }\n\n    .btn {\n        text-align: center;\n        font-size: .85em;\n    }\n\n    #add-watch-modal .modal-dialog {\n        width: 80% !important;\n    }\n\n    .modal-body {\n        padding: .5rem;\n    }\n\n    #add-img-div {\n        min-width: 100px;\n        min-height: 100px;\n    }\n\n    .form-control:focus {\n        border-color: inherit;\n        -webkit-box-shadow: none;\n        box-shadow: none;\n    }\n\n@media(min-width: 991px) {\n    .pr-3half {\n        padding-right: .75em;\n    }\n}\n\n@media(min-width: 580px) {\n    .btn  {\n        padding: .6em 2em;\n    }\n\n    #searchInput {\n        padding: 1.285em .5em !important;\n    }\n\n    .input-group-prepend .input-group-text {\n        padding: 1.285em !important;\n    }\n}\n\n@media(max-width: 579px) {\n    .custom-select {\n            height: calc(1.69rem + 2px);\n        }\n\n        .caret {\n    display: none;\n}\n}\n\n@media(max-width: 750px) {\n    .modal-dialog {\n        max-width: 5%;\n    }\n\n    #watch-controls {\n        font-size: 1em;\n    }\n\n    #dropdown {\n        font-size: .8em;\n        padding:0;\n    }\n}\n\n.mr-6 {\n    margin-right: 6.5em;\n}\n\n</style>\n"],"sourceRoot":"src/components/Profile/Collection"}]}