{"remainingRequest":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/client/node_modules/babel-loader/lib/index.js!/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/client/src/components/Profile/Collection/Modals/AddWatchModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/client/src/components/Profile/Collection/Modals/AddWatchModal.vue","mtime":1550965359198},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/client/node_modules/cache-loader/dist/cjs.js","mtime":1548990847448},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/client/node_modules/babel-loader/lib/index.js","mtime":1548990846981},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/client/node_modules/cache-loader/dist/cjs.js","mtime":1548990847448},{"path":"/Users/brentthomas/Desktop/Developer/Sandbox/JS/CRUD/VUE/WatchCollection/client/node_modules/vue-loader/lib/index.js","mtime":1548990850526}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport draggable from 'vuedraggable';\nimport FileSelector from '../FileSelector.vue';\nimport AutoCompleteComponent from '../../../AutoComplete.vue';\nimport AutoComplete from '../../../../AutoCompleteCollections/AutoComplete.js';\nimport LoadImageUtility from '../../../../Utilities/LoadImageUtility';\nexport default {\n  components: {\n    draggable: draggable,\n    acc: AutoCompleteComponent,\n    fileSelector: FileSelector\n  },\n  name: 'addWatchModal',\n  props: {\n    addWatch: {\n      src: Array\n    },\n    addWatchCount: Number\n  },\n  data: function data() {\n    return {\n      fieldToSet: '',\n      arrowCounter: -1,\n      autoCompleteResults: [],\n      keyboardEnterSubmitAddWatchFieldToSet: '',\n      isShowBrandAutoCompleteBox: false,\n      isShowMovementAutoCompleteBox: false,\n      isS3UploadEvent: false,\n      file: null,\n      addWatchTitle: 'Add your first watch!',\n      fullKitOptions: [{\n        text: 'Full Kit',\n        value: true\n      }, {\n        text: 'Not Full Kit',\n        value: false // { text: 'Box / No Papers', value: 3},\n        // { text: 'Box / No Strap', value: 4 }\n\n      }],\n      isForSaleOptions: [{\n        text: 'For Sale',\n        value: true\n      }, {\n        text: 'Not For Sale',\n        value: false // { text: 'Accepting Offers', value: 3},\n\n      }],\n      isForTradeOptions: [{\n        text: 'For Trade',\n        value: true\n      }, {\n        text: 'Not For Trade',\n        value: false // { text: 'Accepting Offers', value: 3},\n\n      }],\n      styleOptions: [{\n        value: null,\n        text: 'Select a Style',\n        disabled: true\n      }, {\n        value: 'diver',\n        text: 'Diver'\n      }, {\n        value: 'dress',\n        text: 'Dress'\n      }, {\n        value: 'chronograph',\n        text: 'Chronograph'\n      }, {\n        value: 'tourbillon',\n        text: 'Tourbillon'\n      }, {\n        value: 'black tie',\n        text: 'Black Tie'\n      }, {\n        value: 'sport',\n        text: 'Sport'\n      }, {\n        value: 'smart',\n        text: 'Smart'\n      }, {\n        value: 'apple',\n        text: 'Apple'\n      }, {\n        value: 'casual',\n        text: 'Casual'\n      }, {\n        value: 'orienteering',\n        text: 'Orienteering'\n      }],\n      accuracyOptions: [{\n        value: null,\n        text: 'Select Accuracy'\n      }, {\n        value: '-6 -',\n        text: '-6 seconds or less'\n      }, {\n        value: '-5',\n        text: '-5 seconds'\n      }, {\n        value: '-4',\n        text: '-4 seconds'\n      }, {\n        value: '-3',\n        text: '-3 seconds'\n      }, {\n        value: '-2',\n        text: '-2 seconds'\n      }, {\n        value: '-1',\n        text: '-1 seconds'\n      }, {\n        value: '0',\n        text: '0 seconds'\n      }, {\n        value: '+1',\n        text: '+1 seconds'\n      }, {\n        value: '+2',\n        text: '+2 seconds'\n      }, {\n        value: '+3',\n        text: '+3 seconds'\n      }, {\n        value: '+4',\n        text: '+4 seconds'\n      }, {\n        value: '+5',\n        text: '+5 seconds'\n      }, {\n        value: '+6',\n        text: '+6 seconds'\n      }, {\n        value: '+6 +',\n        text: '+6 seconds or more'\n      }],\n      // movementOptions:\n      // [\n      //     { value: null, text: 'Select a Movement' },\n      //     { value: 'Swiss - ETA 2824-2', text: 'Swiss - ETA 2824-2'},\n      //     { value: 'Swiss - ETA 2824-2', text: 'Swiss - ETA 2824-2'},\n      //     { value: 'Swiss - ETA 2824-2', text: 'Swiss - ETA 2824-2'},\n      //     { value: 'Swiss - ETA 2824-2', text: 'Swiss - ETA 2824-2'},\n      //     { value: 'Swiss - ETA 2824-2', text: 'Swiss - ETA 2824-2'},\n      //     { value: 'Swiss - ETA 2824-2', text: 'Swiss - ETA 2824-2'},\n      //     { value: 'Swiss - ETA 2824-2', text: 'Swiss - ETA 2824-2'},\n      //     { value: 'Swiss - ETA 2824-2', text: 'Swiss - ETA 2824-2'}\n      // ],\n      sizeLugToLugOptions: [{\n        value: null,\n        text: 'Select a Lug to Lug Size',\n        disabled: true\n      }, {\n        value: '15mm',\n        text: 'Under 16mm wide'\n      }, {\n        value: '16mm',\n        text: '16mm'\n      }, {\n        value: '17mm',\n        text: '17mm'\n      }, {\n        value: '18mm',\n        text: '18mm'\n      }, {\n        value: '19mm',\n        text: '19mm'\n      }, {\n        value: '20mm',\n        text: '20mm'\n      }, {\n        value: '21mm',\n        text: '21mm'\n      }, {\n        value: '22mm',\n        text: '22mm'\n      }, {\n        value: '23mm',\n        text: '23mm'\n      }, {\n        value: '24mm',\n        text: '24mm'\n      }, {\n        value: '25mm',\n        text: '25mm'\n      }, {\n        value: '26mm',\n        text: '26mm'\n      }, {\n        value: '27mm',\n        text: '27mm'\n      }, {\n        value: '28mm',\n        text: '28mm'\n      }, {\n        value: '29mm',\n        text: '29mm'\n      }, {\n        value: '30mm',\n        text: '30mm'\n      }, {\n        value: '31mm',\n        text: '31mm'\n      }, {\n        value: '32mm',\n        text: '32mm'\n      }, {\n        value: '33mm',\n        text: '33mm'\n      }, {\n        value: '34mm',\n        text: '34mm'\n      }, {\n        value: '35mm',\n        text: '35mm'\n      }, {\n        value: '36mm',\n        text: 'Over 35mm wide'\n      }],\n      sizeWidthOptions: [{\n        value: null,\n        text: 'Width',\n        disabled: true\n      }, {\n        value: '27mm',\n        text: 'Under 28mm wide'\n      }, {\n        value: '28mm',\n        text: '28mm'\n      }, {\n        value: '29mm',\n        text: '29mm'\n      }, {\n        value: '30mm',\n        text: '30mm'\n      }, {\n        value: '31mm',\n        text: '31mm'\n      }, {\n        value: '32mm',\n        text: '32mm'\n      }, {\n        value: '33mm',\n        text: '33mm'\n      }, {\n        value: '34mm',\n        text: '34mm'\n      }, {\n        value: '35mm',\n        text: '35mm'\n      }, {\n        value: '36mm',\n        text: '36mm'\n      }, {\n        value: '37mm',\n        text: '37mm'\n      }, {\n        value: '38mm',\n        text: '38mm'\n      }, {\n        value: '39mm',\n        text: '39mm'\n      }, {\n        value: '40mm',\n        text: '40mm'\n      }, {\n        value: '41mm',\n        text: '41mm'\n      }, {\n        value: '42mm',\n        text: '42mm'\n      }, {\n        value: '43mm',\n        text: '43mm'\n      }, {\n        value: '44mm',\n        text: '44mm'\n      }, {\n        value: '45mm',\n        text: '45mm'\n      }, {\n        value: '46mm',\n        text: '46mm'\n      }, {\n        value: '47mm',\n        text: '47mm'\n      }, {\n        value: '48mm',\n        text: '48mm'\n      }, {\n        value: '49mm',\n        text: '49mm'\n      }, {\n        value: '50mm',\n        text: '50mm'\n      }, {\n        value: '51mm',\n        text: '51mm'\n      }, {\n        value: '52mm',\n        text: '52mm'\n      }, {\n        value: '53mm',\n        text: '53mm'\n      }, {\n        value: '54mm',\n        text: '54mm'\n      }, {\n        value: '55mm',\n        text: '55mm'\n      }, {\n        value: '56mm',\n        text: '56mm'\n      }, {\n        value: '57mm',\n        text: '57mm'\n      }, {\n        value: '58mm',\n        text: '58mm'\n      }, {\n        value: '59mm',\n        text: '59mm'\n      }, {\n        value: '60mm',\n        text: 'Over 59mm wide'\n      }],\n      sizeHeightOptions: [{\n        value: null,\n        text: 'Height',\n        disabled: true\n      }, {\n        value: '6mm',\n        text: 'Under 7mm Height'\n      }, {\n        value: '7mm',\n        text: '7mm'\n      }, {\n        value: '8mm',\n        text: '8mm'\n      }, {\n        value: '9mm',\n        text: '9mm'\n      }, {\n        value: '10mm',\n        text: '10mm'\n      }, {\n        value: '11mm',\n        text: '11mm'\n      }, {\n        value: '12mm',\n        text: '12mm'\n      }, {\n        value: '13mm',\n        text: '13mm'\n      }, {\n        value: '14mm',\n        text: '14mm'\n      }, {\n        value: '15mm',\n        text: '15mm'\n      }, {\n        value: '16mm',\n        text: '16mm'\n      }, {\n        value: '17mm',\n        text: '17mm'\n      }, {\n        value: '18mm',\n        text: '18mm'\n      }, {\n        value: '19mm',\n        text: '19mm'\n      }, {\n        value: '20mm',\n        text: '20mm'\n      }, {\n        value: '21mm',\n        text: '21mm'\n      }, {\n        value: '22mm',\n        text: '22mm'\n      }, {\n        value: '23mm',\n        text: '23mm'\n      }, {\n        value: '24mm',\n        text: '24mm'\n      }, {\n        value: '25mm',\n        text: '25mm'\n      }, {\n        value: '26mm',\n        text: '26mm'\n      }, {\n        value: '27mm',\n        text: '27mm'\n      }, {\n        value: '28mm',\n        text: '28mm'\n      }, {\n        value: '29mm',\n        text: '29mm'\n      }, {\n        value: '30mm',\n        text: 'Over 29mm Height'\n      }],\n      drag: false,\n      draggingId: '',\n      isShowingCroppie: false,\n      cropped: null\n    };\n  },\n  methods: {\n    //   AUTOCOMPLETE METHODS\n    closeAutCompleteBoxes: function closeAutCompleteBoxes() {\n      this.isShowBrandAutoCompleteBox = false;\n      this.isShowMovementAutoCompleteBox = false;\n      this.autoCompleteResults = [];\n    },\n    onArrowDown: function onArrowDown() {\n      if (this.arrowCounter < this.autoCompleteResults.length) {\n        this.arrowCounter = this.arrowCounter + 1;\n      }\n    },\n    onArrowUp: function onArrowUp() {\n      if (this.arrowCounter > 0) {\n        this.arrowCounter = this.arrowCounter - 1;\n      }\n    },\n    onEnter: function onEnter() {\n      this.selectAutoCompleteResult(this.keyboardEnterSubmitAddWatchFieldToSet, this.autoCompleteResults[this.arrowCounter]);\n      this.arrowCounter = -1;\n    },\n    autoCompleteSearchForBrands: function autoCompleteSearchForBrands(searchTerm, addWatchField, Category) {\n      // searchTerm is set with v-model\n      this.isShowBrandAutoCompleteBox = true;\n      this.keyboardEnterSubmitAddWatchFieldToSet = \"brand\"; //get all amatching\n\n      var allMatchingResults = AutoComplete.AutoComplete(Category, searchTerm);\n      var StartingLetterMatchesSearchTerm = allMatchingResults.filter(function (result) {\n        return result.charAt(0).toLowerCase() == searchTerm.charAt(0).toLowerCase();\n      }); // concat, remove matching\n\n      var catArr = StartingLetterMatchesSearchTerm.concat(allMatchingResults);\n      this.autoCompleteResults = catArr.filter(function (result, index) {\n        return catArr.indexOf(result) == index;\n      });\n    },\n    autoCompleteSearchForMovements: function autoCompleteSearchForMovements(searchTerm, addWatchField, Category) {\n      // searchTerm is set with v-model\n      this.isShowMovementAutoCompleteBox = true;\n      this.keyboardEnterSubmitAddWatchFieldToSet = \"movement\"; //get all amatching\n\n      var allMatchingResults = AutoComplete.AutoComplete(Category, searchTerm);\n      var StartingLetterMatchesSearchTerm = allMatchingResults.filter(function (result) {\n        return result.charAt(0).toLowerCase() == searchTerm.charAt(0).toLowerCase();\n      }); // concat, remove matching\n\n      var catArr = StartingLetterMatchesSearchTerm.concat(allMatchingResults);\n      this.autoCompleteResults = catArr.filter(function (result, index) {\n        return catArr.indexOf(result) == index;\n      });\n    },\n    selectAutoCompleteResult: function selectAutoCompleteResult(fieldToSet, result) {\n      var _this = this;\n\n      console.log('sretting', result);\n      this.addWatch[fieldToSet] = result;\n      setTimeout(function () {\n        _this.isShowBrandAutoCompleteBox = false;\n        _this.isShowMovementAutoCompleteBox = false;\n        _this.autoCompleteResults;\n      });\n    },\n    //   END OF AUTOCOMPLETE\n    ContainsS3Information: function ContainsS3Information(str) {\n      var val = LoadImageUtility.ContainsS3Information(str);\n      this.$store.dispatch('CanImageCanBeEditedByUrl', val);\n      return val;\n    },\n    saveCrop: function saveCrop() {\n      var _this2 = this;\n\n      this.crop();\n      this.SetCropBackToImageSrc(this.cropped);\n      setTimeout(function () {\n        _this2.isShowingCroppie = false;\n      }, 400);\n      this.$ga.event({\n        eventCategory: 'Manage_Collection',\n        eventAction: 'Crop_Watch_Save_Btn_Click',\n        eventLabel: 'Saving Cropped Watch Image'\n      });\n    },\n    crop: function crop() {\n      var options = {\n        format: 'jpeg',\n        circle: false // this.isShowingCroppie = false\n\n      };\n      this.$refs.croppieRef.result(options);\n    },\n    SetCropBackToImageSrc: function SetCropBackToImageSrc(croppedImg) {\n      var croppieIndex = this.$store.state.croppieWatchOrder;\n      this.addWatch.src.images[croppieIndex].src = croppedImg;\n    },\n    result: function result(output) {\n      this.cropped = output;\n    },\n    update: function update(val) {\n      // this.$refs.croppieRef.update(val);\n      this.crop();\n    },\n    rotate: function rotate() {\n      // Rotates the image\n      this.$refs.croppieRef.rotate(-90); // this.crop()\n\n      this.$ga.event({\n        eventCategory: 'Manage_Collection',\n        eventAction: 'Rotate_Watch_Btn_Click',\n        eventLabel: 'Rotating Crop Watch Image'\n      });\n    },\n    addWatchSpecs: function addWatchSpecs(specs) {\n      this.addWatch.specs = localStorage.setItem('addWatch', specs);\n    },\n    checkValidInput: function checkValidInput(val) {\n      if (val < 0) {\n        this.addWatch.condition = 0;\n      } else if (val > 10) {\n        this.addWatch.condition = 10;\n      } else {\n        this.addWatch.condition = val;\n      }\n    },\n    setImagesOnAddWatch: function setImagesOnAddWatch(images) {\n      var _this3 = this;\n\n      images.forEach(function (img) {\n        var imageObjToPush = {\n          src: img,\n          order: _this3.addWatch.src.images.length // s3 bucket url path\n          // fileName: img.fileName\n\n        };\n\n        _this3.addWatch.src.images.push(imageObjToPush);\n      }); // console.log('loupiie', imgArr)\n    },\n    SetCroppieWatchAndDispatchCroppieWatchOrder: function SetCroppieWatchAndDispatchCroppieWatchOrder(watchIndex) {\n      this.isShowingCroppie = true;\n      this.$store.dispatch('setCroppieWatchOrder', watchIndex);\n      this.$refs.croppieRef.bind({\n        url: this.addWatch.src.images[this.$store.state.croppieWatchOrder].src\n      });\n    },\n    removeWatchImage: function removeWatchImage(indexToRemove) {\n      if (this.addWatch.src.images.length > 1) {\n        this.addWatch.src.images.splice(indexToRemove, 1);\n      } else {\n        return false;\n      }\n    },\n    startDrag: function startDrag(e) {\n      this.drag = true;\n      this.draggingId = e.item.id;\n    },\n    endDrag: function endDrag(e) {\n      this.drag = false;\n    },\n    getTurnaroundValue: function getTurnaroundValue(mktVal, acqVal) {\n      return mktVal - acqVal;\n    }\n  },\n  computed: {\n    checkScreenSize: function checkScreenSize() {\n      if (window.innerWidth > 800) {\n        return 5;\n      } else {\n        return 8;\n      }\n    },\n    addWatchAccuracy: function addWatchAccuracy() {\n      this.addWatch.accuracy = null;\n    },\n    watchImages: {\n      set: function set(newImagesOrder) {\n        this.addWatch.src.images = newImagesOrder;\n      },\n      get: function get() {\n        return this.addWatch.src.images;\n      }\n    }\n  }\n};",null]}